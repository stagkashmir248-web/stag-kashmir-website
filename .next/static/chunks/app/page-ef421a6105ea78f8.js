(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{172:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(5155),s=r(5797),i=r(3568);function l(e){let{product:t,className:r}=e,l=(0,s.x)(e=>e.addItem);return(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),l({id:t.id,productId:t.id,name:t.name,price:t.price,quantity:1,imageUrl:t.imageUrl||"/placeholder.jpg"}),i.oR.success((0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"font-bold text-white",children:"Added to Cart!"}),(0,a.jsx)("span",{className:"text-sm text-slate-300",children:t.name})]}),{style:{background:"#1a1a1a",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"},iconTheme:{primary:"#d4af37",secondary:"#1a1a1a"}})},className:r||"text-primary hover:text-white border border-primary hover:bg-primary px-4 py-2 rounded-lg text-sm font-medium transition-all",children:"Add to Cart"})}},5797:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var a=r(5453),s=r(6786);let i=(0,a.v)()((0,s.Zr)((e,t)=>({items:[],addItem:t=>e(e=>{let r=e.items.findIndex(e=>e.id===t.id);if(r>-1){let a=[...e.items];return a[r].quantity+=t.quantity,{items:a}}return{items:[...e.items,t]}}),removeItem:t=>e(e=>({items:e.items.filter(e=>e.id!==t)})),updateQuantity:(t,r)=>e(e=>({items:e.items.map(e=>e.id===t?{...e,quantity:Math.max(1,r)}:e)})),clearCart:()=>e({items:[]}),getCartTotal:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.price*t.quantity,0)},getCartCount:()=>{let{items:e}=t();return e.reduce((e,t)=>e+t.quantity,0)}}),{name:"stag-kashmir-cart"}))},8492:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(5155),s=r(2115),i=r(4477);let l=(0,i.createServerReference)("401167a89a0e49608c671c84b431f02c2b93fc85b7",i.callServer,void 0,i.findSourceMapURL,"subscribeNewsletter"),n="6LdIoHksAAAAAAKx7Rqe29YvZ8TT2Qtp371JxqaU";function c(){let[e,t]=(0,s.useState)("idle"),[r,i]=(0,s.useState)("");async function c(e){e.preventDefault(),t("loading"),i("");let r=e.currentTarget,a=new FormData(r);try{let e=await window.grecaptcha.execute(n,{action:"newsletter"});a.append("recaptchaToken",e)}catch(e){t("error"),i("Security check failed. Please refresh and try again.");return}let s=await l(a);if(s.success)t("success"),r.reset();else{var c;t("error"),i(null!==(c=s.error)&&void 0!==c?c:"Something went wrong.")}}return((0,s.useEffect)(()=>{if(document.querySelector('script[src*="recaptcha"]'))return;let e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js?render=".concat(n),e.async=!0,document.head.appendChild(e)},[]),"success"===e)?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 py-4",children:[(0,a.jsx)("span",{className:"material-symbols-outlined text-primary !text-[48px]",children:"check_circle"}),(0,a.jsx)("p",{className:"text-white font-bold text-lg",children:"You're in! \uD83C\uDF89"}),(0,a.jsx)("p",{className:"text-slate-300 text-sm",children:"We'll keep you in the loop on drops and exclusive deals."})]}):(0,a.jsxs)("form",{onSubmit:c,className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center items-stretch max-w-lg mx-auto",children:[(0,a.jsx)("input",{name:"email",required:!0,type:"email",className:"flex-1 bg-white/10 border border-white/20 text-white placeholder-slate-400 rounded-lg px-6 py-4 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"Enter your email address",disabled:"loading"===e}),(0,a.jsx)("button",{type:"submit",disabled:"loading"===e,className:"bg-primary hover:bg-primary-dark text-background-dark font-bold px-8 py-4 rounded-lg transition-colors whitespace-nowrap disabled:opacity-60 flex items-center gap-2",children:"loading"===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"})," Subscribingâ€¦"]}):"Subscribe Now"})]}),r&&(0,a.jsx)("p",{className:"text-red-400 text-sm text-center mt-1",children:r}),(0,a.jsxs)("p",{className:"text-slate-500 text-xs text-center mt-1",children:["Protected by reCAPTCHA \xb7 ",(0,a.jsx)("a",{href:"https://policies.google.com/privacy",target:"_blank",className:"underline hover:text-slate-400",children:"Privacy"})," \xb7 ",(0,a.jsx)("a",{href:"https://policies.google.com/terms",target:"_blank",className:"underline hover:text-slate-400",children:"Terms"})]})]})}},8659:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23)),Promise.resolve().then(r.bind(r,172)),Promise.resolve().then(r.bind(r,8492))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,84,480,441,684,358],()=>t(8659)),_N_E=e.O()}]);