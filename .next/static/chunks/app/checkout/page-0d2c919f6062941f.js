(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{1189:(e,a,s)=>{Promise.resolve().then(s.bind(s,1269))},1269:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>h});var t=s(5155),r=s(5797),l=s(4477);let i=(0,l.createServerReference)("40b4dbf4e85928fd0fbe9bdcda2844e593cfc14d75",l.callServer,void 0,l.findSourceMapURL,"createRazorpayOrder"),n=(0,l.createServerReference)("708855db146eb187c3e7e05532dfe64ed90a5f1c44",l.callServer,void 0,l.findSourceMapURL,"verifyRazorpaySignature"),d=(0,l.createServerReference)("784424d909df7373ec0f1787bc06f6f1a49a6efaa5",l.callServer,void 0,l.findSourceMapURL,"submitOrder");var c=s(2115),o=s(6874),x=s.n(o),m=s(3554);let p=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Jammu & Kashmir","Ladakh","Delhi","Chandigarh","Puducherry","Andaman & Nicobar Islands","Dadra & Nagar Haveli","Daman & Diu","Lakshadweep"];function h(){let{items:e,getCartTotal:a,clearCart:s}=(0,r.x)(),l=a(),[o,h]=(0,c.useState)("idle"),[u,b]=(0,c.useState)(""),[f,g]=(0,c.useState)("partial"),[y,j]=(0,c.useState)("");if(0===e.length&&"success"!==o)return(0,t.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto w-full px-4 py-20 flex flex-col items-center justify-center text-center gap-6",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-6xl text-slate-500",children:"shopping_cart"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Your Cart is Empty"}),(0,t.jsx)(x(),{href:"/shop",className:"bg-primary hover:bg-amber-400 text-black font-bold py-3 px-8 rounded-xl transition-all",children:"Return to Shop"})]});if("success"===o)return(0,t.jsxs)("main",{className:"flex-1 max-w-3xl mx-auto w-full px-4 py-16 flex flex-col items-center text-center gap-6",children:[(0,t.jsx)("div",{className:"size-24 bg-green-500/10 text-green-400 rounded-full flex items-center justify-center border-4 border-green-500/20",children:(0,t.jsx)("span",{className:"material-symbols-outlined !text-5xl",children:"check_circle"})}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-black text-white",children:"partial"===f?"Booking Confirmed!":"Order Confirmed!"}),(0,t.jsx)("p",{className:"text-slate-300 max-w-lg leading-relaxed",children:"partial"===f?"Your ₹300 booking is confirmed. We'll contact you on WhatsApp to arrange delivery.":"Your full payment is confirmed! We'll contact you on WhatsApp with shipping updates."}),y&&(0,t.jsxs)("div",{className:"w-full max-w-sm bg-slate-900 border border-primary/30 rounded-2xl p-5 flex flex-col items-center gap-2",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Your Order Tracking Code"}),(0,t.jsx)("p",{className:"text-3xl font-black text-primary tracking-widest font-mono",children:y}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 text-center",children:["Save this code. Visit ",(0,t.jsx)("strong",{className:"text-slate-300",children:"/track-order"})," to check your order status anytime without signing in."]})]}),(0,t.jsx)(x(),{href:"/shop",className:"bg-primary hover:bg-amber-400 text-black font-bold py-3.5 px-10 rounded-xl transition-all shadow-lg shadow-primary/20",children:"Continue Shopping"})]});let N=l-300;async function v(a){h("submitting");let t={name:a.get("name"),email:a.get("email"),phone:a.get("phone"),address:a.get("address"),city:a.get("city"),state:a.get("state"),pincode:a.get("pincode"),landmark:a.get("landmark"),paymentType:"full"===f?"FULL":"PARTIAL"},r="partial"===f?300:l;try{let{id:a}=await i(r),c={key:"rzp_live_SL8CeZntngQnAy",amount:100*r,currency:"INR",name:"Stag Kashmir",description:"partial"===f?"Booking Amount":"Order Payment",image:"/Stag_logo-removebg-preview.png",order_id:a,handler:async function(a){try{if(await n(a.razorpay_order_id,a.razorpay_payment_id,a.razorpay_signature)){let a=await d(t,e,l,r);a.success?(a.trackingCode&&j(a.trackingCode),h("success"),s()):(h("error"),b(a.error||"Failed to save order. Your payment was received — please contact us via WhatsApp."))}else h("error"),b("Payment verification failed. Please contact us via WhatsApp with your payment ID: "+a.razorpay_payment_id)}catch(e){console.error("Payment handler error:",e),h("error"),b("Payment was received but order save failed. Please contact us on WhatsApp with Payment ID: "+a.razorpay_payment_id)}},prefill:{name:t.name,email:t.email,contact:t.phone},theme:{color:"#D4AF37"},modal:{ondismiss:function(){h("idle")}}},o=new window.Razorpay(c);o.on("payment.failed",function(e){h("error"),b("Payment failed: "+e.error.description)}),o.open()}catch(e){var c,o;console.error("Checkout error:",null!==(c=null==e?void 0:e.message)&&void 0!==c?c:e),h("error"),b(null!==(o=null==e?void 0:e.message)&&void 0!==o?o:"Could not initialize payment. Please try again.")}}let w="w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/30 transition-all text-sm",k="block text-sm font-semibold text-slate-200 mb-1.5";return(0,t.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto w-full px-4 sm:px-6 lg:px-8 py-10",children:[(0,t.jsx)(m.default,{src:"https://checkout.razorpay.com/v1/checkout.js",strategy:"lazyOnload"}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Checkout"}),(0,t.jsx)("p",{className:"text-slate-400 mt-1",children:"Complete your payment securely to confirm your order."})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0 flex flex-col gap-6",children:(0,t.jsxs)("form",{action:v,className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-slate-900 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10 bg-white/[0.02]",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:"person"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-white",children:"Contact Details"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"We'll use this to confirm and ship your order"})]})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["Full Name ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"name",required:!0,type:"text",placeholder:"Aadil Khan",className:w})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["Email Address ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"email",required:!0,type:"email",placeholder:"aadil@email.com",className:w})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["WhatsApp / Phone ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"phone",required:!0,type:"tel",placeholder:"+91 98765 43210",className:w}),(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-2",children:"We'll send order confirmation and payment link on WhatsApp"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-slate-900 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10 bg-white/[0.02]",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:"local_shipping"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-white",children:"Shipping Address"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Enter the exact delivery location"})]})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["Street Address / House No. ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"address",required:!0,type:"text",placeholder:"House No. 12, Main Bazar, Near Clock Tower",className:w})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["City / Town ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"city",required:!0,type:"text",placeholder:"Srinagar",className:w})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["State ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsxs)("select",{name:"state",required:!0,className:"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/30 transition-all text-sm",children:[(0,t.jsx)("option",{value:"",className:"text-slate-400",children:"Select State"}),p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["PIN Code ",(0,t.jsx)("span",{className:"text-primary",children:"*"})]}),(0,t.jsx)("input",{name:"pincode",required:!0,type:"text",maxLength:6,pattern:"\\d{6}",placeholder:"190001",className:w})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:k,children:["Landmark ",(0,t.jsx)("span",{className:"text-slate-500 font-normal",children:"(optional)"})]}),(0,t.jsx)("input",{name:"landmark",type:"text",placeholder:"Near mosque, school, etc.",className:w})]})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-slate-900 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10 bg-white/[0.02]",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:"payment"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-bold text-white",children:"Payment Option"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Choose how you want to pay"})]})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col gap-3",children:[(0,t.jsxs)("label",{className:"flex items-start gap-4 p-5 rounded-xl border cursor-pointer transition-all ".concat("partial"===f?"border-primary bg-primary/8":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,t.jsx)("input",{type:"radio",name:"paymentMode",value:"partial",checked:"partial"===f,onChange:()=>g("partial"),className:"mt-1 accent-primary"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-bold text-white",children:"Pay ₹300 Now — Rest on Delivery"}),(0,t.jsx)("span",{className:"text-[10px] bg-amber-500/20 text-amber-300 border border-amber-500/30 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"Booking"})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-400 mt-1",children:["Secure your bat with just ₹",300,". Remaining ",(0,t.jsxs)("strong",{className:"text-white",children:["₹",N.toLocaleString("en-IN")]})," paid on delivery."]})]})]}),(0,t.jsxs)("label",{className:"flex items-start gap-4 p-5 rounded-xl border cursor-pointer transition-all ".concat("full"===f?"border-primary bg-primary/8":"border-slate-700 bg-slate-800/50 hover:border-slate-600"),children:[(0,t.jsx)("input",{type:"radio",name:"paymentMode",value:"full",checked:"full"===f,onChange:()=>g("full"),className:"mt-1 accent-primary"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("span",{className:"font-bold text-white",children:["Pay Full Amount — ₹",l.toLocaleString("en-IN")]}),(0,t.jsx)("span",{className:"text-[10px] bg-green-500/20 text-green-300 border border-green-500/30 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"Instant Confirm"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:"Pay the full amount now via Razorpay. Order confirmed immediately after payment."})]})]})]})]}),"error"===o&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-300 text-sm",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[18px] shrink-0 mt-0.5",children:"error"}),u]}),(0,t.jsx)("button",{disabled:"submitting"===o,type:"submit",className:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-amber-400 text-black font-black py-4 rounded-xl transition-all shadow-lg shadow-primary/20 text-base disabled:opacity-60 disabled:cursor-not-allowed",children:"submitting"===o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[20px]",children:"sync"}),"Processing…"]}):"partial"===f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"lock"}),"Confirm Booking — Pay ₹",300]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"lock"}),"Pay ₹",l.toLocaleString("en-IN")," Now"]})}),(0,t.jsx)("p",{className:"text-center text-xs text-slate-500",children:"\uD83D\uDD12 Your information is safe and never shared with third parties."})]})}),(0,t.jsx)("div",{className:"w-full lg:w-[380px] shrink-0",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-slate-900 overflow-hidden sticky top-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-white/10 bg-white/[0.02]",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:"receipt_long"}),(0,t.jsx)("h2",{className:"font-bold text-white",children:"Order Summary"})]}),(0,t.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[(0,t.jsx)("div",{className:"flex flex-col gap-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,t.jsxs)("div",{className:"relative w-14 h-14 rounded-lg overflow-hidden border border-white/10 bg-slate-800 shrink-0",children:[(0,t.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"}),(0,t.jsx)("span",{className:"absolute -top-1.5 -right-1.5 size-5 bg-primary text-black text-[10px] font-black flex items-center justify-center rounded-full",children:e.quantity})]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-white text-sm line-clamp-1",children:e.name}),e.size&&(0,t.jsx)("p",{className:"text-xs text-slate-400 mt-0.5",children:e.size})]}),(0,t.jsxs)("span",{className:"font-bold text-white text-sm shrink-0",children:["₹",(e.price*e.quantity).toLocaleString("en-IN")]})]},e.id))}),(0,t.jsxs)("div",{className:"border-t border-white/10 pt-4 flex flex-col gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-slate-400",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsxs)("span",{className:"text-white font-semibold",children:["₹",l.toLocaleString("en-IN")]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-slate-400",children:[(0,t.jsx)("span",{children:"Shipping"}),(0,t.jsx)("span",{className:"text-green-400 font-bold",children:"Free"})]})]}),(0,t.jsx)("div",{className:"border-t border-white/10 pt-4 flex flex-col gap-3",children:"partial"===f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-slate-300 font-semibold",children:"Pay Now (Booking)"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-primary",children:["₹",300]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Remaining on Delivery"}),(0,t.jsxs)("span",{className:"font-bold text-slate-300",children:["₹",N.toLocaleString("en-IN")]})]}),(0,t.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/20 rounded-xl px-4 py-3 text-sm text-amber-200",children:["Pay just ₹",300," to secure your bat. Rest on delivery."]})]}):(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-slate-300 font-semibold",children:"Total Due Now"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-primary",children:["₹",l.toLocaleString("en-IN")]})]})}),(0,t.jsx)("div",{className:"border-t border-white/10 pt-4 grid grid-cols-3 gap-2 text-center",children:[{icon:"verified_user",label:"Secure"},{icon:"support_agent",label:"Support"},{icon:"local_shipping",label:"Free Ship"}].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 text-slate-400",children:[(0,t.jsx)("span",{className:"material-symbols-outlined !text-[22px] text-slate-300",children:e.icon}),(0,t.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.label))})]})]})})]})]})}},5797:(e,a,s)=>{"use strict";s.d(a,{x:()=>l});var t=s(5453),r=s(6786);let l=(0,t.v)()((0,r.Zr)((e,a)=>({items:[],addItem:a=>e(e=>{let s=e.items.findIndex(e=>e.id===a.id);if(s>-1){let t=[...e.items];return t[s].quantity+=a.quantity,{items:t}}return{items:[...e.items,a]}}),removeItem:a=>e(e=>({items:e.items.filter(e=>e.id!==a)})),updateQuantity:(a,s)=>e(e=>({items:e.items.map(e=>e.id===a?{...e,quantity:Math.max(1,s)}:e)})),clearCart:()=>e({items:[]}),getCartTotal:()=>{let{items:e}=a();return e.reduce((e,a)=>e+a.price*a.quantity,0)},getCartCount:()=>{let{items:e}=a();return e.reduce((e,a)=>e+a.quantity,0)}}),{name:"stag-kashmir-cart"}))}},e=>{var a=a=>e(e.s=a);e.O(0,[874,921,441,684,358],()=>a(1189)),_N_E=e.O()}]);