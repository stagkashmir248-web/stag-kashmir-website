(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{2121:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),l=s(2115),r=s(6874),n=s.n(r);function i(e){var t;let{status:s}=e,l=null!==(t=({PENDING:{label:"Pending",cls:"bg-slate-700 text-slate-300",icon:"schedule"},PROCESSING:{label:"Processing",cls:"bg-blue-500/20 text-blue-300",icon:"autorenew"},PAID_PARTIAL:{label:"Booking Paid",cls:"bg-amber-500/20 text-amber-300",icon:"payments"},PAID:{label:"Paid",cls:"bg-green-500/20 text-green-300",icon:"check_circle"},DISPATCHED:{label:"Dispatched",cls:"bg-purple-500/20 text-purple-300",icon:"local_shipping"},DELIVERED:{label:"Delivered",cls:"bg-green-500/20 text-green-400",icon:"inventory_2"},CANCELLED:{label:"Cancelled",cls:"bg-red-500/20 text-red-400",icon:"cancel"}})[s])&&void 0!==t?t:{label:s,cls:"bg-slate-700 text-slate-400",icon:"help"};return(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold ".concat(l.cls),children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[13px]",children:l.icon}),l.label]})}let c=["PENDING","PROCESSING","DISPATCHED","SHIPPED","DELIVERED"],d=["Order Placed","Processing","Dispatched","Shipped","Delivered"],o=["receipt","autorenew","local_shipping","flight_takeoff","inventory_2"];function x(e){let{status:t}=e,s="PAID"===t||"PAID_PARTIAL"===t?0:c.indexOf(t);return(0,a.jsx)("div",{className:"flex items-start overflow-x-auto pb-2 mt-4",children:c.map((e,t)=>{let l=s>t,r=s===t;return(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-[70px]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 flex-1",children:[(0,a.jsx)("div",{className:"size-8 rounded-full flex items-center justify-center border-2 ".concat(l?"bg-primary border-primary":r?"border-primary bg-primary/10":"border-slate-700 bg-slate-800"),children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[15px] ".concat(l?"text-black":r?"text-primary":"text-slate-600"),children:o[t]})}),(0,a.jsx)("p",{className:"text-[10px] font-semibold text-center whitespace-nowrap ".concat(r?"text-primary":l?"text-slate-400":"text-slate-600"),children:d[t]})]}),t<c.length-1&&(0,a.jsx)("div",{className:"h-0.5 flex-1 mb-4 mx-1 ".concat(l?"bg-primary/60":r?"bg-primary/20":"bg-slate-700")})]},e)})})}function m(){var e;let[t,s]=(0,l.useState)(""),[r,c]=(0,l.useState)(""),[d,o]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),[h,b]=(0,l.useState)("");async function u(e){e.preventDefault(),o(!0),b(""),p(null);try{let e=await fetch("/api/track-order?phone=".concat(encodeURIComponent(t),"&code=").concat(encodeURIComponent(r))),a=await e.json();if(e.ok&&a.order)p(a.order);else{var s;b(null!==(s=a.error)&&void 0!==s?s:"No order found. Please check your phone number and tracking code.")}}catch(e){b("Something went wrong. Please try again.")}o(!1)}let g="w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white placeholder-slate-500 focus:outline-none focus:border-primary text-sm";return(0,a.jsxs)("main",{className:"flex-1 max-w-2xl mx-auto w-full px-4 py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(n(),{href:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-400 hover:text-white mb-4 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:"arrow_back"}),"Back to Home"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Track Your Order"}),(0,a.jsx)("p",{className:"text-slate-400 mt-2",children:"Placed an order without signing in? Enter your WhatsApp number and the tracking code we sent you."})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 bg-amber-500/10 border border-amber-500/20 rounded-2xl px-5 py-4 mb-6",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-amber-400 shrink-0 mt-0.5",children:"info"}),(0,a.jsxs)("div",{className:"text-sm text-amber-200/80",children:[(0,a.jsx)("strong",{className:"text-amber-300",children:"Where is my tracking code?"})," After you placed your order, we sent a 6-digit tracking code to your WhatsApp number. If you didn't receive it, contact us and we'll resend it."]})]}),(0,a.jsxs)("form",{onSubmit:u,className:"rounded-2xl border border-slate-700 bg-slate-900 p-6 flex flex-col gap-5 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:["WhatsApp / Phone Number ",(0,a.jsx)("span",{className:"text-primary",children:"*"})]}),(0,a.jsx)("input",{type:"tel",value:t,onChange:e=>s(e.target.value),required:!0,placeholder:"+91 98765 43210",className:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:["Tracking Code ",(0,a.jsx)("span",{className:"text-primary",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>c(e.target.value.toUpperCase()),required:!0,maxLength:8,placeholder:"e.g. SK7F2A",className:"".concat(g," font-mono tracking-widest")}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1.5",children:"Sent to your WhatsApp when your order was confirmed"})]}),h&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-300 text-sm bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:"error"}),h]}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"flex items-center justify-center gap-2 bg-primary hover:bg-amber-400 text-black font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-primary/20 disabled:opacity-60",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"}),"Searching…"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"manage_search"}),"Find My Order"]})})]}),m&&(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-700 bg-slate-900 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6 py-4 border-b border-slate-700 bg-slate-800/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsxs)("p",{className:"font-bold text-white font-mono",children:["#",m.id.slice(-8).toUpperCase()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Placed On"}),(0,a.jsx)("p",{className:"text-sm text-slate-300",children:new Date(m.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total"}),(0,a.jsxs)("p",{className:"text-sm font-bold text-primary",children:["₹",m.total.toLocaleString("en-IN")]})]}),(0,a.jsx)(i,{status:m.status})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[null===(e=m.items)||void 0===e?void 0:e.map(e=>{var t,s,l;return(0,a.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,a.jsx)("div",{className:"size-14 rounded-xl overflow-hidden border border-slate-700 bg-slate-800 shrink-0",children:(null===(t=e.product)||void 0===t?void 0:t.imageUrl)?(0,a.jsx)("img",{src:e.product.imageUrl,alt:e.product.name,className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"material-symbols-outlined !text-2xl text-slate-600 flex items-center justify-center h-full",children:"sports_cricket"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-white line-clamp-1",children:null!==(l=null===(s=e.product)||void 0===s?void 0:s.name)&&void 0!==l?l:"Product"}),(0,a.jsxs)("p",{className:"text-xs text-slate-400 mt-0.5",children:["Qty: ",e.quantity," \xd7 ₹",e.price.toLocaleString("en-IN")]})]})]},e.id)}),"CANCELLED"!==m.status&&(0,a.jsx)(x,{status:m.status}),m.address&&(0,a.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-400 bg-slate-800 rounded-xl px-4 py-3",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[15px] text-slate-500 mt-0.5 shrink-0",children:"location_on"}),(0,a.jsxs)("span",{children:[m.address,", ",m.city,", ",m.state," – ",m.pincode]})]}),m.adminNote&&(0,a.jsxs)("div",{className:"flex items-start gap-2 text-xs text-amber-300/80 bg-amber-500/10 border border-amber-500/20 rounded-xl px-4 py-3",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[15px] shrink-0 mt-0.5",children:"info"}),m.adminNote]}),(0,a.jsxs)(n(),{href:"/contact",className:"flex items-center justify-center gap-2 text-sm font-bold border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 py-3 rounded-xl transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"support_agent"}),"Need Help With This Order?"]})]})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-slate-500 text-sm",children:["Have an account? ",(0,a.jsx)(n(),{href:"/dashboard",className:"text-primary hover:underline font-semibold",children:"Sign in to view all orders →"})]})})]})}},9607:(e,t,s)=>{Promise.resolve().then(s.bind(s,2121))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(9607)),_N_E=e.O()}]);