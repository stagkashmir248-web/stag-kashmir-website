module.exports=[82592,(a,b,c)=>{b.exports=a.x("@prisma/client-a9e7a8209a39e0de",()=>require("@prisma/client-a9e7a8209a39e0de"))},73120,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(46960)},10527,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},18797,a=>{"use strict";var b=a.i(73120),c=a.i(82592),d=a.i(59065),e=a.i(10527);let f=new c.PrismaClient;async function g(a,b,c){try{if(!a.name||!a.email||!a.phone)return{success:!1,error:"All customer fields are required."};if(!b||0===b.length)return{success:!1,error:"Cannot submit an empty order."};let e=await f.order.create({data:{customer:a.name,email:a.email,phone:a.phone,total:c,status:"PENDING",items:{create:b.map(a=>({quantity:a.quantity,price:a.price,product:{connect:{id:a.productId}}}))}}});return console.log(`Order created successfully: ${e.id}`),(0,d.revalidatePath)("/admin/orders"),{success:!0,orderId:e.id}}catch(a){return console.error("Failed to submit order:",a),{success:!1,error:"An error occurred while submitting your order. Please try again."}}}(0,e.ensureServerEntryExports)([g]),(0,b.registerServerReference)(g,"705a261f755146afc2cd6d858f665baa0479d01723",null),a.s([],30922),a.i(30922),a.s(["705a261f755146afc2cd6d858f665baa0479d01723",()=>g],18797)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1b5c3e80._.js.map