module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},53072,(a,b,c)=>{"use strict";b.exports=a.r(13137).vendored.contexts.HooksClientContext},91006,(a,b,c)=>{"use strict";b.exports=a.r(13137).vendored.contexts.ServerInsertedHtml},53940,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(43553),g=a.r(48682),h=a.r(95762)},69191,a=>{"use strict";var b=a.i(60665),c=a.i(41744),d=a.i(25140),e=a.i(53940);let f=(0,e.createServerReference)("40a218d9021ac51f0554ac143a761d06e21b153a9b",e.callServer,void 0,e.findSourceMapURL,"createProduct");var g=a.i(70368);function h(){let a=(0,d.useRouter)(),[e,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(void 0),y=async b=>{b.preventDefault(),j(""),h(!0);try{let b=await f({name:m,slug:o,description:q,price:Number(s),stock:Number(u),imageUrl:w});b.success?a.push("/admin/products"):(j(b.error||"Failed to add product"),h(!1))}catch(a){j("An unexpected error occurred."),h(!1)}};return(0,b.jsxs)("div",{className:"flex flex-col gap-8 w-full max-w-4xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.default,{href:"/admin/products",className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500",children:(0,b.jsx)("span",{className:"material-symbols-outlined !text-[24px]",children:"arrow_back"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Add New Bat"}),(0,b.jsx)("p",{className:"text-slate-500 mt-2",children:"Create a new product listing in your inventory."})]})]}),(0,b.jsxs)("form",{onSubmit:y,className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8 flex flex-col gap-6",children:[i&&(0,b.jsx)("div",{className:"p-4 bg-red-50 text-red-600 border border-red-200 rounded-lg text-sm font-medium",children:i}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Product Name"}),(0,b.jsx)("input",{required:!0,type:"text",value:m,onChange:a=>{let b=a.target.value;n(b),p(b.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""))},placeholder:"e.g. Thunder Strike Pro",className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"URL Slug"}),(0,b.jsx)("input",{required:!0,type:"text",value:o,onChange:a=>p(a.target.value),placeholder:"thunder-strike-pro",className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Description"}),(0,b.jsx)("textarea",{required:!0,rows:4,value:q,onChange:a=>r(a.target.value),placeholder:"Grade 1 Kashmir Willow...",className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all resize-y"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 border-y border-slate-100 dark:border-slate-800 py-6 my-2",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Price (â‚¹)"}),(0,b.jsx)("input",{required:!0,type:"number",min:"0",value:s,onChange:a=>t(a.target.value),placeholder:"3499",className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Initial Stock"}),(0,b.jsx)("input",{required:!0,type:"number",min:"0",value:u,onChange:a=>v(a.target.value),placeholder:"50",className:"w-full p-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Product Image"}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 items-start",children:[k?(0,b.jsxs)("div",{className:"relative size-32 md:size-48 bg-slate-100 dark:bg-slate-800 rounded-xl overflow-hidden border border-slate-200 dark:border-slate-700 shrink-0",children:[(0,b.jsx)("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>{l(null),x(void 0)},className:"absolute top-2 right-2 size-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 shadow-md",children:(0,b.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:"close"})})]}):(0,b.jsxs)("label",{className:"cursor-pointer size-32 md:size-48 bg-slate-50 dark:bg-slate-800 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl flex flex-col items-center justify-center text-slate-500 hover:border-primary hover:text-primary transition-colors shrink-0",children:[(0,b.jsx)("span",{className:"material-symbols-outlined !text-3xl mb-2",children:"add_photo_alternate"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"Upload Image"}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void j("Please select a valid image file.");let c=new FileReader;c.onload=a=>{let b=new Image;b.onload=()=>{let a=document.createElement("canvas"),c=b.width,d=b.height;c>800&&(d=Math.round(800*d/c),c=800),a.width=c,a.height=d;let e=a.getContext("2d");if(!e)return;e.fillStyle="#FFFFFF",e.fillRect(0,0,c,d),e.drawImage(b,0,0,c,d);let f=a.toDataURL("image/webp",.8);x(f),l(f),j("")},b.src=a.target?.result},c.readAsDataURL(b)}})]}),(0,b.jsxs)("div",{className:"flex-1 text-sm text-slate-500 flex flex-col justify-center h-full",children:[(0,b.jsxs)("p",{className:"mb-2",children:[(0,b.jsx)("strong",{children:"Tip:"})," Upload a square image for best results across the shop interface."]}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-slate-400",children:[(0,b.jsx)("li",{children:"Max width automatically compressed to 800px"}),(0,b.jsx)("li",{children:"Converted to lightweight WebP format natively"}),(0,b.jsx)("li",{children:"Stored securely in your PostgreSQL database"})]})]})]})]}),(0,b.jsx)("div",{className:"pt-6 mt-2 border-t border-slate-100 dark:border-slate-800 flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:e,className:"bg-primary hover:bg-primary-dark text-white font-bold py-3 px-8 rounded-xl transition-all shadow-md shadow-primary/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[20px]",children:"sync"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"save"}),"Create Product"]})})})]})]})}a.s(["default",()=>h],69191)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cf29b35a._.js.map