module.exports=[82592,(a,b,c)=>{b.exports=a.x("@prisma/client-a9e7a8209a39e0de",()=>require("@prisma/client-a9e7a8209a39e0de"))},73120,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(46960)},10527,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},79832,a=>{"use strict";var b=a.i(73120),c=a.i(82592),d=a.i(59065),e=a.i(10527);let f=new c.PrismaClient;async function g(a){try{return await f.product.delete({where:{id:a}}),(0,d.revalidatePath)("/admin/products"),(0,d.revalidatePath)("/shop"),{success:!0}}catch(a){return console.error("Failed to delete product:",a),{success:!1,error:"Failed to delete product."}}}async function h(a){try{let b=await f.product.create({data:{name:a.name,slug:a.slug,description:a.description,price:a.price,stock:a.stock,imageUrl:a.imageUrl}});return(0,d.revalidatePath)("/admin/products"),(0,d.revalidatePath)("/shop"),{success:!0,product:b}}catch(a){if(console.error("Failed to create product:",a),a&&"object"==typeof a&&"code"in a&&"P2002"===a.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to create product."}}}async function i(a,b){try{let c=await f.product.update({where:{id:a},data:{name:b.name,slug:b.slug,description:b.description,price:b.price,stock:b.stock,...b.imageUrl&&{imageUrl:b.imageUrl}}});return(0,d.revalidatePath)("/admin/products"),(0,d.revalidatePath)("/shop"),(0,d.revalidatePath)(`/shop/${c.slug}`),{success:!0,product:c}}catch(a){if(console.error("Failed to update product:",a),a&&"object"==typeof a&&"code"in a&&"P2002"===a.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to update product."}}}(0,e.ensureServerEntryExports)([g,h,i]),(0,b.registerServerReference)(g,"403f5b91554402c071b2b7756132f0b6f3e31ea52b",null),(0,b.registerServerReference)(h,"40a218d9021ac51f0554ac143a761d06e21b153a9b",null),(0,b.registerServerReference)(i,"60f415c641d1944d8697dd02f68c333f1cf013e699",null),a.s(["createProduct",()=>h,"deleteProduct",()=>g,"updateProduct",()=>i])},75591,a=>{"use strict";var b=a.i(79832);a.s([],22e3),a.i(22e3),a.s(["60f415c641d1944d8697dd02f68c333f1cf013e699",()=>b.updateProduct],75591)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7bdaf9fd._.js.map