(()=>{var e={};e.id=770,e.ids=[770],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25946:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\admin\\\\products\\\\new\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\new\\page.tsx","default")},27636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(65239),s=r(48088),l=r(88170),n=r.n(l),i=r(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c={children:["",{children:["admin",{children:["products",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25946)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,16439)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\new\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/products/new/page",pathname:"/admin/products/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},59325:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"404ce44822ec5c46ecfc1d9fab15774785f69bf107":()=>i,"40c2666a33a735d3856b50daa686683ef47cded97c":()=>o,"60c43dd9ba67b724358fefe2a4f9586948eaed6e45":()=>c,"7f3b2c42cab10e20cad01db774d9f831841c6fb349":()=>a.M$,"7f57427a84a646118002d5cd67de268ed9131f7a24":()=>a.Sz,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131":()=>a.d$,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676":()=>a.zh});var a=r(21941),s=r(91199);r(42087);var l=r(70664),n=r(7944);async function i(e){try{return await l.z.product.update({where:{id:e},data:{isArchived:!0}}),(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),{success:!0}}catch(e){return console.error("Failed to archive product:",e),{success:!1,error:"Failed to retire product."}}}async function o(e){try{let t=await l.z.product.create({data:{name:e.name,slug:e.slug,description:e.description,price:e.price,compareAtPrice:e.compareAtPrice||null,stock:e.stock,imageUrl:e.imageUrl,images:e.images||[],videoUrl:e.videoUrl,willowType:e.willowType||null,grade:e.grade||null,blade:e.blade||null,ballType:e.ballType||null,warranty:e.warranty||null,features:e.features||[],category:e.category||null,variations:{create:e.variations||[]}}});return(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),{success:!0,product:t}}catch(e){if(console.error("Failed to create product:",e),e&&"object"==typeof e&&"code"in e&&"P2002"===e.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to create product."}}}async function c(e,t){try{await l.z.productVariation.deleteMany({where:{productId:e}});let r=await l.z.product.update({where:{id:e},data:{name:t.name,slug:t.slug,description:t.description,price:t.price,compareAtPrice:t.compareAtPrice||null,stock:t.stock,...t.imageUrl&&{imageUrl:t.imageUrl},...void 0!==t.images&&{images:t.images},...void 0!==t.videoUrl&&{videoUrl:t.videoUrl},willowType:t.willowType||null,grade:t.grade||null,blade:t.blade||null,ballType:t.ballType||null,warranty:t.warranty||null,features:t.features||[],category:t.category||null,variations:{create:t.variations?.map(e=>({name:e.name,price:e.price,compareAtPrice:e.compareAtPrice||null,stock:e.stock}))||[]}}});return(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),(0,n.revalidatePath)(`/shop/${r.slug}`),{success:!0,product:r}}catch(e){if(console.error("Failed to update product:",e),e&&"object"==typeof e&&"code"in e&&"P2002"===e.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to update product."}}}(0,r(33331).D)([i,o,c]),(0,s.A)(i,"404ce44822ec5c46ecfc1d9fab15774785f69bf107",null),(0,s.A)(o,"40c2666a33a735d3856b50daa686683ef47cded97c",null),(0,s.A)(c,"60c43dd9ba67b724358fefe2a4f9586948eaed6e45",null)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63714:(e,t,r)=>{Promise.resolve().then(r.bind(r,77084))},64549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"00baa4b735df1f70c1f3c6249c1ec986c75bc304df":()=>a.$$RSC_SERVER_ACTION_0});var a=r(99111)},67218:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a.registerServerReference}});let a=r(12907)},74722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return l},normalizeRscURL:function(){return n}});let a=r(85531),s=r(35499);function l(e){return(0,a.ensureLeadingSlash)(e.split("/").reduce((e,t,r,a)=>!t||(0,s.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===a.length-1?e:e+"/"+t,""))}function n(e){return e.replace(/\.rsc($|\?)/,"$1")}},77084:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(60687),s=r(43210),l=r(16189),n=r(6475);let i=(0,n.createServerReference)("40c2666a33a735d3856b50daa686683ef47cded97c",n.callServer,void 0,n.findSourceMapURL,"createProduct");var o=r(85814),c=r.n(o);let d=["34 inches","34.5 inches","35 inches","35.5 inches"],u=["950-1050 grams","1050-1100 grams","1100-1150 grams"],p=["English Willow","Kashmir Willow","Premium Grade 1","Standard"],x="w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all text-sm";function m({icon:e,title:t,subtitle:r,children:s}){return(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-700 bg-slate-900 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-slate-700 bg-slate-800/50",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white text-sm",children:t}),r&&(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-0.5",children:r})]})]}),(0,a.jsx)("div",{className:"p-6",children:s})]})}function h({children:e}){return(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:e})}function g(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(""),[g,f]=(0,s.useState)(""),[b,v]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[_,P]=(0,s.useState)(""),[R,A]=(0,s.useState)(null),[k,E]=(0,s.useState)(void 0),[M,T]=(0,s.useState)(""),[O,U]=(0,s.useState)([]),[z,D]=(0,s.useState)([]),[I,B]=(0,s.useState)(""),[G,q]=(0,s.useState)(""),[$,K]=(0,s.useState)(""),[F,L]=(0,s.useState)(""),[W,V]=(0,s.useState)(""),[X,H]=(0,s.useState)([]),[Y,Q]=(0,s.useState)(""),[J,Z]=(0,s.useState)(""),ee=()=>{J.trim()&&(H(e=>[...e,J.trim()]),Z(""))},et=e=>H(t=>t.filter((t,r)=>r!==e)),[er,ea]=(0,s.useState)(!1),[es,el]=(0,s.useState)([]),[en,ei]=(0,s.useState)([]),[eo,ec]=(0,s.useState)([]),[ed,eu]=(0,s.useState)(""),[ep,ex]=(0,s.useState)("10"),[em,eh]=(0,s.useState)(""),[eg,ef]=(0,s.useState)(""),eb=(e,t,r)=>r(e.includes(t)?e.filter(e=>e!==t):[...e,t]),ev=(e,t,r)=>{let a=[...z];a[e]={...a[e],[t]:r},D(a)},ey=e=>D(z.filter((t,r)=>r!==e)),ej=(e,t)=>{if(!e.type.startsWith("image/"))return;let r=new FileReader;r.onload=e=>{let r=new Image;r.onload=()=>{let e=document.createElement("canvas"),a=r.width,s=r.height;a>800&&(s=Math.round(800*s/a),a=800),e.width=a,e.height=s;let l=e.getContext("2d");l&&(l.fillStyle="#fff",l.fillRect(0,0,a,s),l.drawImage(r,0,0,a,s),t(e.toDataURL("image/webp",.8)))},r.src=e.target?.result},r.readAsDataURL(e)},eN=async t=>{if(t.preventDefault(),o(""),r(!0),!k){o("Please upload a cover image."),r(!1);return}try{let t=await i({name:g,slug:b,description:y,price:Number(N),compareAtPrice:S?Number(S):void 0,stock:Number(_),imageUrl:k,images:O,videoUrl:M||void 0,willowType:I||void 0,grade:G||void 0,blade:$||void 0,ballType:F||void 0,warranty:W||void 0,features:X,category:Y||void 0,variations:z.map(e=>({name:[e.size,e.weight,e.extra].filter(e=>e.trim()).join(" | "),price:Number(e.price),compareAtPrice:e.compareAtPrice?Number(e.compareAtPrice):void 0,stock:Number(e.stock)}))});t.success?e.push("/admin/products"):(o(t.error||"Failed to save"),r(!1))}catch{o("Unexpected error."),r(!1)}},ew=e=>`px-3 py-1.5 rounded-lg text-xs font-semibold border cursor-pointer transition-all select-none ${e?"bg-primary text-black border-primary":"bg-slate-800 border-slate-600 text-slate-300 hover:border-primary/60 hover:text-primary"}`,eS=Math.max(1,es.length+ +!!em.trim())*Math.max(1,en.length+ +!!eg.trim())*Math.max(1,eo.length);return(0,a.jsxs)("div",{className:"flex flex-col gap-6 w-full max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,a.jsx)(c(),{href:"/admin/products",className:"p-2 hover:bg-slate-800 rounded-lg transition-colors text-slate-500 hover:text-white",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[24px]",children:"arrow_back"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Add New Product"}),(0,a.jsx)("p",{className:"text-slate-500 mt-1",children:"Fill in the details below to add a new bat to your store."})]})]}),(0,a.jsxs)("form",{onSubmit:eN,className:"flex flex-col gap-6",children:[(0,a.jsxs)("a",{href:`/shop/${b}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-3 px-4 py-3 rounded-xl border border-slate-700 bg-slate-800 hover:border-primary/50 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[16px] text-slate-400",children:"link"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Live URL:"}),(0,a.jsxs)("span",{className:"text-xs text-primary font-medium group-hover:underline",children:["/shop/",b]}),(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px] text-slate-500 ml-auto",children:"open_in_new"})]}),n&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px] shrink-0 mt-0.5",children:"error"}),n]}),(0,a.jsx)(m,{icon:"edit_square",title:"Basic Information",subtitle:"Product name, slug and description",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Product Name"}),(0,a.jsx)("input",{required:!0,type:"text",value:g,onChange:e=>{f(e.target.value),v(e.target.value.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""))},className:x,placeholder:"e.g. Wolverine Hard Tennis Bat"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"URL Slug"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-sm select-none",children:"/shop/"}),(0,a.jsx)("input",{required:!0,type:"text",value:b,onChange:e=>v(e.target.value),className:`${x} pl-16`,placeholder:"wolverine-hard-tennis"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Description"}),(0,a.jsx)("textarea",{required:!0,rows:4,value:y,onChange:e=>j(e.target.value),className:`${x} resize-y`,placeholder:"Describe the product…"})]})]})}),(0,a.jsxs)(m,{icon:"payments",title:"Pricing & Stock",subtitle:"Set selling price, MRP and available inventory",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Selling Price (₹)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-bold",children:"₹"}),(0,a.jsx)("input",{required:!0,type:"number",min:"0",value:N,onChange:e=>w(e.target.value),className:`${x} pl-8`,placeholder:"eg. 2499"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Regular / MRP (₹) ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— strikethrough"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-bold",children:"₹"}),(0,a.jsx)("input",{type:"number",min:"0",value:S,onChange:e=>C(e.target.value),className:`${x} pl-8`,placeholder:"eg. 3499"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Stock Quantity"}),(0,a.jsx)("input",{required:!0,type:"number",min:"0",value:_,onChange:e=>P(e.target.value),className:x,placeholder:"eg. 50"})]})]}),N&&S&&Number(S)>Number(N)&&(0,a.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 text-xs text-green-400 bg-green-400/10 border border-green-400/20 px-3 py-1.5 rounded-full",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:"local_offer"}),Math.round((Number(S)-Number(N))/Number(S)*100),"% discount \xb7 Saves ₹",(Number(S)-Number(N)).toLocaleString("en-IN")]})]}),(0,a.jsx)(m,{icon:"photo_library",title:"Images & Media",subtitle:"Cover image, gallery photos and product video",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Cover Image"}),(0,a.jsxs)("div",{className:"flex items-start gap-5",children:[R?(0,a.jsxs)("div",{className:"relative size-36 rounded-xl overflow-hidden border border-slate-600 shrink-0 bg-slate-800",children:[(0,a.jsx)("img",{src:R,alt:"Cover",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>{A(null),E(void 0)},className:"absolute top-2 right-2 size-7 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 shadow-md",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:"close"})})]}):(0,a.jsxs)("label",{className:"cursor-pointer size-36 border-2 border-dashed border-slate-600 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-primary hover:text-primary transition-colors shrink-0",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-3xl mb-1",children:"add_photo_alternate"}),(0,a.jsx)("span",{className:"text-[11px] font-medium",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&ej(t,e=>{E(e),A(e)})}})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400 leading-relaxed pt-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-300 mb-1",children:"Tips for cover image"}),(0,a.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,a.jsx)("li",{children:"Square ratio (1:1) looks best on product cards"}),(0,a.jsx)("li",{children:"Auto-compressed to 800px WebP"}),(0,a.jsx)("li",{children:"Leave empty to keep current image"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Gallery Images ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— multiple angles"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[O.map((e,t)=>(0,a.jsxs)("div",{className:"relative size-20 rounded-xl overflow-hidden border border-slate-600 bg-slate-800 shrink-0",children:[(0,a.jsx)("img",{src:e,alt:"Gallery",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>U(O.filter((e,r)=>r!==t)),className:"absolute top-1 right-1 size-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[11px]",children:"close"})})]},t)),(0,a.jsxs)("label",{className:"cursor-pointer size-20 border-2 border-dashed border-slate-600 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-primary hover:text-primary transition-colors shrink-0",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-xl",children:"add_circle"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>Array.from(e.target.files||[]).forEach(e=>ej(e,e=>U(t=>[...t,e])))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Product Video URL ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— YouTube or MP4"})]}),(0,a.jsx)("input",{type:"url",value:M,onChange:e=>T(e.target.value),placeholder:"https://youtube.com/watch?v=...",className:x})]})]})}),(0,a.jsx)(m,{icon:"layers",title:"Product Variations",subtitle:"Each row = one Size + Weight combination with its own price & stock",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>ea(e=>!e),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-400 text-black font-bold text-sm rounded-xl transition-all shadow-lg shadow-amber-500/20",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"auto_awesome"}),"Generate Combinations"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>D([...z,{size:"",weight:"",extra:"",price:N||"0",compareAtPrice:"",stock:"0"}]),className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 border border-slate-600 hover:border-primary/60 text-slate-300 hover:text-primary font-semibold text-sm rounded-xl transition-all",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"add"}),"Add One"]})]}),er&&(0,a.jsxs)("div",{className:"rounded-xl border border-amber-500/30 bg-slate-800 p-5 flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px] text-amber-400",children:"auto_awesome"}),(0,a.jsx)("h4",{className:"font-bold text-white text-sm",children:"Variation Generator"}),(0,a.jsx)("span",{className:"text-[10px] bg-amber-500/20 text-amber-300 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"Pick options → Generate"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>ea(!1),className:"text-slate-500 hover:text-slate-300 p-1 rounded-lg hover:bg-white/5",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"close"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Bat Sizes"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map(e=>(0,a.jsx)("span",{className:ew(es.includes(e)),onClick:()=>eb(es,e,el),children:e},e))}),(0,a.jsx)("input",{type:"text",placeholder:"+ Custom size (e.g. 36 inches)",value:em,onChange:e=>eh(e.target.value),className:`${x} max-w-xs`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Weights"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:u.map(e=>(0,a.jsx)("span",{className:ew(en.includes(e)),onClick:()=>eb(en,e,ei),children:e},e))}),(0,a.jsx)("input",{type:"text",placeholder:"+ Custom weight (e.g. 1150-1200 grams)",value:eg,onChange:e=>ef(e.target.value),className:`${x} max-w-xs`})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Willow / Other ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"(optional)"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:p.map(e=>(0,a.jsx)("span",{className:ew(eo.includes(e)),onClick:()=>eb(eo,e,ec),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Default Sale Price (₹)"}),(0,a.jsx)("input",{type:"number",value:ed,onChange:e=>eu(e.target.value),className:`${x} w-32`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Default Stock"}),(0,a.jsx)("input",{type:"number",value:ep,onChange:e=>ex(e.target.value),className:`${x} w-28`})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pt-2 border-t border-amber-500/20 flex-wrap",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{let e=[...es,...em.trim()?[em.trim()]:[]],t=[...en,...eg.trim()?[eg.trim()]:[]],r=eo.length>0?eo:[""],a=t.length>0?t:[""],s=[];for(let t of e.length>0?e:[""])for(let e of a)for(let a of r)z.some(r=>r.size===t&&r.weight===e&&r.extra===a)||s.push({size:t,weight:e,extra:a,price:ed,compareAtPrice:"",stock:ep});D(e=>[...e,...s]),el([]),ei([]),ec([]),eh(""),ef(""),ea(!1)},className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-400 text-black font-bold px-5 py-2.5 rounded-xl text-sm shadow-lg shadow-amber-500/20",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"auto_awesome"}),"Generate ",eS," Combination",1!==eS?"s":""]}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"Skips duplicates already in the table."})]})]}),z.length>0?(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"hidden md:grid grid-cols-[1fr_1fr_1fr_100px_100px_80px_36px] gap-2 px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[(0,a.jsx)("span",{children:"Size"}),(0,a.jsx)("span",{children:"Weight"}),(0,a.jsx)("span",{children:"Willow / Other"}),(0,a.jsx)("span",{children:"Sale ₹"}),(0,a.jsx)("span",{children:"Regular ₹"}),(0,a.jsx)("span",{children:"Stock"}),(0,a.jsx)("span",{})]}),z.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_1fr_100px_100px_80px_36px] items-center gap-2 bg-white/[0.03] border border-white/8 px-4 py-3 rounded-xl hover:border-white/15 transition-colors",children:[(0,a.jsx)("input",{type:"text",list:"sz-opts",placeholder:"Size",value:e.size,onChange:e=>ev(t,"size",e.target.value),className:x}),(0,a.jsx)("input",{type:"text",list:"wt-opts",placeholder:"Weight",value:e.weight,onChange:e=>ev(t,"weight",e.target.value),className:x}),(0,a.jsx)("input",{type:"text",list:"ex-opts",placeholder:"Willow (Opt)",value:e.extra,onChange:e=>ev(t,"extra",e.target.value),className:x}),(0,a.jsx)("input",{required:!0,type:"number",placeholder:"Sale ₹",value:e.price,onChange:e=>ev(t,"price",e.target.value),className:x}),(0,a.jsx)("input",{type:"number",placeholder:"Reg ₹",value:e.compareAtPrice,onChange:e=>ev(t,"compareAtPrice",e.target.value),className:x}),(0,a.jsx)("input",{required:!0,type:"number",placeholder:"Stock",value:e.stock,onChange:e=>ev(t,"stock",e.target.value),className:x}),(0,a.jsx)("button",{type:"button",onClick:()=>ey(t),className:"size-9 flex items-center justify-center text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"delete"})})]},t))]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 py-10 border-2 border-dashed border-white/10 rounded-xl text-slate-500",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-4xl text-slate-600",children:"layers"}),(0,a.jsx)("p",{className:"text-sm",children:"No variations yet."}),(0,a.jsxs)("p",{className:"text-xs text-slate-600",children:["Click ",(0,a.jsx)("strong",{className:"text-slate-400",children:"Generate Combinations"})," to create size\xd7weight rows at once."]})]}),(0,a.jsx)("datalist",{id:"sz-opts",children:d.map(e=>(0,a.jsx)("option",{value:e},e))}),(0,a.jsx)("datalist",{id:"wt-opts",children:u.map(e=>(0,a.jsx)("option",{value:e},e))}),(0,a.jsx)("datalist",{id:"ex-opts",children:p.map(e=>(0,a.jsx)("option",{value:e},e))})]})}),(0,a.jsx)(m,{icon:"tune",title:"Technical Specs & Category",subtitle:"Displayed in the Tech Specs card on the product page",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Category ",(0,a.jsx)("span",{className:"text-primary",children:"*"})]}),(0,a.jsxs)("select",{value:Y,onChange:e=>Q(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all text-sm",children:[(0,a.jsx)("option",{value:"",children:"— Uncategorised —"}),(0,a.jsx)("option",{value:"Hard Tennis Bats",children:"Hard Tennis Bats"}),(0,a.jsx)("option",{value:"Soft Tennis Bats",children:"Soft Tennis Bats"}),(0,a.jsx)("option",{value:"Season Bats",children:"Season Bats"}),(0,a.jsx)("option",{value:"Kids Bats",children:"Kids Bats"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Willow Type"}),(0,a.jsx)("input",{type:"text",value:I,onChange:e=>B(e.target.value),placeholder:"e.g. Kashmir Willow",className:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Grade"}),(0,a.jsx)("input",{type:"text",value:G,onChange:e=>q(e.target.value),placeholder:"e.g. Premium",className:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Blade"}),(0,a.jsx)("input",{type:"text",value:$,onChange:e=>K(e.target.value),placeholder:"e.g. Full Size",className:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Ball Type"}),(0,a.jsx)("input",{type:"text",value:F,onChange:e=>L(e.target.value),placeholder:"e.g. Hard Tennis / Leather",className:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{children:"Warranty"}),(0,a.jsx)("input",{type:"text",value:W,onChange:e=>V(e.target.value),placeholder:"e.g. 1 Year",className:x})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(h,{children:["Feature Badges ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— pill chips on the product page"})]}),X.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:X.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-primary/10 text-primary text-xs font-semibold px-3 py-1.5 rounded-full border border-primary/20",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>et(t),className:"text-primary/50 hover:text-red-400 transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[13px]",children:"close"})})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:J,onChange:e=>Z(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ee())},placeholder:"Type a feature and press Enter…",className:`${x} flex-1`}),(0,a.jsx)("button",{type:"button",onClick:ee,className:"px-5 py-3 bg-primary/10 text-primary border border-primary/20 rounded-xl text-sm font-bold hover:bg-primary/20 transition-colors shrink-0",children:"Add"})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 px-6 py-4 rounded-2xl border border-slate-700 bg-slate-900",children:[(0,a.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:g||"Product"}),(0,a.jsx)("span",{className:"mx-2 text-slate-500",children:"/"}),(0,a.jsxs)("span",{className:"text-slate-400 text-xs",children:["/shop/",b]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/admin/products"),className:"px-5 py-2.5 rounded-xl border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 text-sm font-semibold transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"flex items-center gap-2 px-6 py-2.5 bg-primary hover:bg-amber-400 text-black font-bold rounded-xl text-sm transition-all shadow-lg shadow-primary/20 disabled:opacity-60 disabled:cursor-not-allowed",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"}),"Saving…"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"save"}),"Create Product"]})})]})]})]})]})}},79130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return m}}),r(34822);let a=r(12907),s=r(52513),l=r(77855),n=r(82602),i=r(63033),o=r(84971),c=function(e){return e&&e.__esModule?e:{default:e}}(r(61120)),d=new TextEncoder,u=new TextDecoder;async function p(e,t){let r=await (0,n.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let a=atob(t),s=a.slice(0,16),l=a.slice(16),i=u.decode(await (0,n.decrypt)(r,(0,n.stringToUint8Array)(s),(0,n.stringToUint8Array)(l)));if(!i.startsWith(e))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return i.slice(e.length)}async function x(e,t){let r=await (0,n.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let a=new Uint8Array(16);i.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(a));let s=(0,n.arrayBufferToString)(a.buffer),l=await (0,n.encrypt)(r,a,d.encode(e+t));return btoa(s+(0,n.arrayBufferToString)(l))}let m=c.default.cache(async function e(t,...r){let{clientModules:s}=(0,n.getClientReferenceManifestForRsc)(),c=Error();Error.captureStackTrace(c,e);let d=!1,u=i.workUnitAsyncStorage.getStore(),p=(null==u?void 0:u.type)==="prerender"?(0,o.createHangingInputAbortSignal)(u):void 0,m=await (0,l.streamToString)((0,a.renderToReadableStream)(r,s,{signal:p,onError(e){(null==p||!p.aborted)&&(d||(d=!0,c.message=e instanceof Error?e.message:String(e)))}}),p);if(d)throw c;if(!u)return x(t,m);let h=(0,i.getPrerenderResumeDataCache)(u),g=(0,i.getRenderResumeDataCache)(u),f=t+m,b=(null==h?void 0:h.encryptedBoundArgs.get(f))??(null==g?void 0:g.encryptedBoundArgs.get(f));if(b)return b;let v="prerender"===u.type?u.cacheSignal:void 0;null==v||v.beginRead();let y=await x(t,m);return null==v||v.endRead(),null==h||h.encryptedBoundArgs.set(f,y),y});async function h(e,t){let r,a=await t,l=i.workUnitAsyncStorage.getStore();if(l){let t="prerender"===l.type?l.cacheSignal:void 0,s=(0,i.getPrerenderResumeDataCache)(l),n=(0,i.getRenderResumeDataCache)(l);(r=(null==s?void 0:s.decryptedBoundArgs.get(a))??(null==n?void 0:n.decryptedBoundArgs.get(a)))||(null==t||t.beginRead(),r=await p(e,a),null==t||t.endRead(),null==s||s.decryptedBoundArgs.set(a,r))}else r=await p(e,a);let{edgeRscModuleMapping:o,rscModuleMapping:c}=(0,n.getClientReferenceManifestForRsc)();return await (0,s.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(d.encode(r)),(null==l?void 0:l.type)==="prerender"?l.renderSignal.aborted?e.close():l.renderSignal.addEventListener("abort",()=>e.close(),{once:!0}):e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:c,serverModuleMap:(0,n.getServerModuleMap)()}})}},82602:(e,t,r)=>{"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return i},decrypt:function(){return d},encrypt:function(){return c},getActionEncryptionKey:function(){return h},getClientReferenceManifestForRsc:function(){return m},getServerModuleMap:function(){return x},setReferenceManifestsSingleton:function(){return p},stringToUint8Array:function(){return o}});let s=r(71617),l=r(74722),n=r(29294);function i(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let a="";for(let e=0;e<r;e++)a+=String.fromCharCode(t[e]);return a}function o(e){let t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return r}function c(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function d(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}let u=Symbol.for("next.server.action-manifests");function p({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:a}){var s;let n=null==(s=globalThis[u])?void 0:s.clientReferenceManifestsPerPage;globalThis[u]={clientReferenceManifestsPerPage:{...n,[(0,l.normalizeAppPath)(e)]:t},serverActionsManifest:r,serverModuleMap:a}}function x(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});return e.serverModuleMap}function m(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let{clientReferenceManifestsPerPage:t}=e,r=n.workAsyncStorage.getStore();if(!r){var a=t;let e=Object.values(a),r={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let t of e)r.clientModules={...r.clientModules,...t.clientModules},r.edgeRscModuleMapping={...r.edgeRscModuleMapping,...t.edgeRscModuleMapping},r.rscModuleMapping={...r.rscModuleMapping,...t.rscModuleMapping};return r}let l=t[r.route];if(!l)throw Object.defineProperty(new s.InvariantError(`Missing Client Reference Manifest for ${r.route}.`),"__NEXT_ERROR_CODE",{value:"E570",enumerable:!1,configurable:!0});return l}async function h(){if(a)return a;let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Object.defineProperty(new s.InvariantError("Missing encryption key for Server Actions"),"__NEXT_ERROR_CODE",{value:"E571",enumerable:!1,configurable:!0});return a=await crypto.subtle.importKey("raw",o(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},85531:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},95258:(e,t,r)=>{Promise.resolve().then(r.bind(r,25946))},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[80,479,43,538,341,391],()=>r(27636));module.exports=a})();