(()=>{var e={};e.id=419,e.ids=[419],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14875:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(60687),a=r(43210),l=r(85814),i=r.n(l);function n({status:e}){let t={PENDING:{label:"Pending",cls:"bg-slate-700 text-slate-300",icon:"schedule"},PROCESSING:{label:"Processing",cls:"bg-blue-500/20 text-blue-300",icon:"autorenew"},PAID_PARTIAL:{label:"Booking Paid",cls:"bg-amber-500/20 text-amber-300",icon:"payments"},PAID:{label:"Paid",cls:"bg-green-500/20 text-green-300",icon:"check_circle"},DISPATCHED:{label:"Dispatched",cls:"bg-purple-500/20 text-purple-300",icon:"local_shipping"},DELIVERED:{label:"Delivered",cls:"bg-green-500/20 text-green-400",icon:"inventory_2"},CANCELLED:{label:"Cancelled",cls:"bg-red-500/20 text-red-400",icon:"cancel"}}[e]??{label:e,cls:"bg-slate-700 text-slate-400",icon:"help"};return(0,s.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold ${t.cls}`,children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[13px]",children:t.icon}),t.label]})}let o=["PENDING","PROCESSING","DISPATCHED","SHIPPED","DELIVERED"],c=["Order Placed","Processing","Dispatched","Shipped","Delivered"],d=["receipt","autorenew","local_shipping","flight_takeoff","inventory_2"];function x({status:e}){let t="PAID"===e||"PAID_PARTIAL"===e?0:o.indexOf(e);return(0,s.jsx)("div",{className:"flex items-start overflow-x-auto pb-2 mt-4",children:o.map((e,r)=>{let a=t>r,l=t===r;return(0,s.jsxs)("div",{className:"flex items-center flex-1 min-w-[70px]",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 flex-1",children:[(0,s.jsx)("div",{className:`size-8 rounded-full flex items-center justify-center border-2 ${a?"bg-primary border-primary":l?"border-primary bg-primary/10":"border-slate-700 bg-slate-800"}`,children:(0,s.jsx)("span",{className:`material-symbols-outlined !text-[15px] ${a?"text-black":l?"text-primary":"text-slate-600"}`,children:d[r]})}),(0,s.jsx)("p",{className:`text-[10px] font-semibold text-center whitespace-nowrap ${l?"text-primary":a?"text-slate-400":"text-slate-600"}`,children:c[r]})]}),r<o.length-1&&(0,s.jsx)("div",{className:`h-0.5 flex-1 mb-4 mx-1 ${a?"bg-primary/60":l?"bg-primary/20":"bg-slate-700"}`})]},e)})})}function p(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[d,p]=(0,a.useState)(null),[m,u]=(0,a.useState)("");async function h(t){t.preventDefault(),c(!0),u(""),p(null);try{let t=await fetch(`/api/track-order?phone=${encodeURIComponent(e)}&code=${encodeURIComponent(r)}`),s=await t.json();t.ok&&s.order?p(s.order):u(s.error??"No order found. Please check your phone number and tracking code.")}catch{u("Something went wrong. Please try again.")}c(!1)}let b="w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white placeholder-slate-500 focus:outline-none focus:border-primary text-sm";return(0,s.jsxs)("main",{className:"flex-1 max-w-2xl mx-auto w-full px-4 py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)(i(),{href:"/",className:"inline-flex items-center gap-1.5 text-sm text-slate-400 hover:text-white mb-4 transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:"arrow_back"}),"Back to Home"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Track Your Order"}),(0,s.jsx)("p",{className:"text-slate-400 mt-2",children:"Placed an order without signing in? Enter your WhatsApp number and the tracking code we sent you."})]}),(0,s.jsxs)("div",{className:"flex items-start gap-3 bg-amber-500/10 border border-amber-500/20 rounded-2xl px-5 py-4 mb-6",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-amber-400 shrink-0 mt-0.5",children:"info"}),(0,s.jsxs)("div",{className:"text-sm text-amber-200/80",children:[(0,s.jsx)("strong",{className:"text-amber-300",children:"Where is my tracking code?"})," After you placed your order, we sent a 6-digit tracking code to your WhatsApp number. If you didn't receive it, contact us and we'll resend it."]})]}),(0,s.jsxs)("form",{onSubmit:h,className:"rounded-2xl border border-slate-700 bg-slate-900 p-6 flex flex-col gap-5 mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:["WhatsApp / Phone Number ",(0,s.jsx)("span",{className:"text-primary",children:"*"})]}),(0,s.jsx)("input",{type:"tel",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"+91 98765 43210",className:b})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:["Tracking Code ",(0,s.jsx)("span",{className:"text-primary",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value.toUpperCase()),required:!0,maxLength:8,placeholder:"e.g. SK7F2A",className:`${b} font-mono tracking-widest`}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1.5",children:"Sent to your WhatsApp when your order was confirmed"})]}),m&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-300 text-sm bg-red-500/10 border border-red-500/20 rounded-xl px-4 py-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:"error"}),m]}),(0,s.jsx)("button",{type:"submit",disabled:o,className:"flex items-center justify-center gap-2 bg-primary hover:bg-amber-400 text-black font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-primary/20 disabled:opacity-60",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"}),"Searching…"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"manage_search"}),"Find My Order"]})})]}),d&&(0,s.jsxs)("div",{className:"rounded-2xl border border-slate-700 bg-slate-900 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 px-6 py-4 border-b border-slate-700 bg-slate-800/50",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Order ID"}),(0,s.jsxs)("p",{className:"font-bold text-white font-mono",children:["#",d.id.slice(-8).toUpperCase()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Placed On"}),(0,s.jsx)("p",{className:"text-sm text-slate-300",children:new Date(d.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"Total"}),(0,s.jsxs)("p",{className:"text-sm font-bold text-primary",children:["₹",d.total.toLocaleString("en-IN")]})]}),(0,s.jsx)(n,{status:d.status})]}),(0,s.jsxs)("div",{className:"p-6 flex flex-col gap-5",children:[d.items?.map(e=>s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx("div",{className:"size-14 rounded-xl overflow-hidden border border-slate-700 bg-slate-800 shrink-0",children:e.product?.imageUrl?s.jsx("img",{src:e.product.imageUrl,alt:e.product.name,className:"w-full h-full object-cover"}):s.jsx("span",{className:"material-symbols-outlined !text-2xl text-slate-600 flex items-center justify-center h-full",children:"sports_cricket"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-white line-clamp-1",children:e.product?.name??"Product"}),s.jsxs("p",{className:"text-xs text-slate-400 mt-0.5",children:["Qty: ",e.quantity," \xd7 ₹",e.price.toLocaleString("en-IN")]})]})]},e.id)),"CANCELLED"!==d.status&&(0,s.jsx)(x,{status:d.status}),d.address&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-xs text-slate-400 bg-slate-800 rounded-xl px-4 py-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[15px] text-slate-500 mt-0.5 shrink-0",children:"location_on"}),(0,s.jsxs)("span",{children:[d.address,", ",d.city,", ",d.state," – ",d.pincode]})]}),d.adminNote&&(0,s.jsxs)("div",{className:"flex items-start gap-2 text-xs text-amber-300/80 bg-amber-500/10 border border-amber-500/20 rounded-xl px-4 py-3",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[15px] shrink-0 mt-0.5",children:"info"}),d.adminNote]}),(0,s.jsxs)(i(),{href:"/contact",className:"flex items-center justify-center gap-2 text-sm font-bold border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 py-3 rounded-xl transition-colors",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"support_agent"}),"Need Help With This Order?"]})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-slate-500 text-sm",children:["Have an account? ",(0,s.jsx)(i(),{href:"/dashboard",className:"text-primary hover:underline font-semibold",children:"Sign in to view all orders →"})]})})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21941:(e,t,r)=>{"use strict";r.d(t,{M$:()=>o,Sz:()=>c,d$:()=>n,zh:()=>d});var s=r(91199);r(42087);var a=r(70664),l=r(7944),i=r(33331);let n=(0,l.unstable_cache)(async()=>{try{return await a.z.product.findMany({where:{isArchived:!1},orderBy:{createdAt:"desc"},include:{variations:!0}})}catch(e){return console.error("Failed to fetch products:",e),[]}},["website-products"],{revalidate:3600,tags:["products"]}),o=(0,l.unstable_cache)(async e=>{try{return await a.z.product.findFirst({where:{slug:e,isArchived:!1},include:{variations:!0}})}catch(t){return console.error(`Failed to fetch product ${e}:`,t),null}},["website-product-by-slug"],{revalidate:3600,tags:["products"]}),c=(0,l.unstable_cache)(async(e,t,r=4)=>{try{let s={id:{not:e},isArchived:!1};t&&(s.category=t);let l=await a.z.product.findMany({where:s,take:r,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});if(l.length<r){let t=await a.z.product.findMany({where:{isArchived:!1,id:{not:e},...l.length>0?{NOT:{id:{in:l.map(e=>e.id)}}}:{}},take:r-l.length,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});return[...l,...t]}return l}catch(e){return console.error("Failed to fetch related products:",e),[]}},["website-related-products"],{revalidate:3600,tags:["products"]}),d=async(e,t=5)=>{try{if(!e.trim())return[];return await a.z.product.findMany({where:{isArchived:!1,OR:[{name:{contains:e,mode:"insensitive"}},{category:{contains:e,mode:"insensitive"}}]},take:t,select:{id:!0,slug:!0,name:!0,price:!0,imageUrl:!0,category:!0}})}catch(e){return console.error("Failed to search products:",e),[]}};(0,i.D)([n,o,c,d]),(0,s.A)(n,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131",null),(0,s.A)(o,"7f3b2c42cab10e20cad01db774d9f831841c6fb349",null),(0,s.A)(c,"7f57427a84a646118002d5cd67de268ed9131f7a24",null),(0,s.A)(d,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676",null)},23785:(e,t,r)=>{Promise.resolve().then(r.bind(r,34213))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30409:(e,t,r)=>{Promise.resolve().then(r.bind(r,14875))},33873:e=>{"use strict";e.exports=require("path")},34213:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\track-order\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\track-order\\page.tsx","default")},46620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f3b2c42cab10e20cad01db774d9f831841c6fb349":()=>s.M$,"7f57427a84a646118002d5cd67de268ed9131f7a24":()=>s.Sz,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131":()=>s.d$,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676":()=>s.zh});var s=r(21941)},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70664:(e,t,r)=>{"use strict";r.d(t,{z:()=>a});var s=r(96330);let a=global.prisma||new s.PrismaClient({log:["query"]})},86334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),l=r(88170),i=r.n(l),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c={children:["",{children:["track-order",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,34213)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\track-order\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,16439)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\track-order\\page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/track-order/page",pathname:"/track-order",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[80,479,43,538,341],()=>r(86334));module.exports=s})();