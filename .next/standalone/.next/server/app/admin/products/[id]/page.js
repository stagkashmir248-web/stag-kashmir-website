(()=>{var e={};e.id=727,e.ids=[727],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13560:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4536,23)),Promise.resolve().then(r.bind(r,63065))},14113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,dynamic:()=>c});var a=r(37413),s=r(31183),l=r(39916),n=r(4536),i=r.n(n),o=r(63065);let c="force-dynamic";async function d({params:e}){let t=await e,r=await s.z.product.findUnique({where:{id:t.id},include:{variations:!0}});return r||(0,l.notFound)(),(0,a.jsxs)("div",{className:"flex flex-col gap-8 w-full max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i(),{href:"/admin/products",className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors text-slate-500",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[24px]",children:"arrow_back"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Edit Product"}),(0,a.jsxs)("p",{className:"text-slate-500 mt-2",children:["Update inventory details for ",r.name,"."]})]})]}),(0,a.jsx)(o.default,{product:r})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21634:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var a=r(60687),s=r(43210),l=r(16189),n=r(6475);let i=(0,n.createServerReference)("60c43dd9ba67b724358fefe2a4f9586948eaed6e45",n.callServer,void 0,n.findSourceMapURL,"updateProduct");var o=r(65232);let c=["34 inches","34.5 inches","35 inches","35.5 inches"],d=["950-1050 grams","1050-1100 grams","1100-1150 grams"],u=["English Willow","Kashmir Willow","Premium Grade 1","Standard"],p="w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white placeholder-slate-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all text-sm";function x({icon:e,title:t,subtitle:r,children:s}){return(0,a.jsxs)("div",{className:"rounded-2xl border border-slate-700 bg-slate-900 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-4 border-b border-slate-700 bg-slate-800/50",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-primary",children:e}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-white text-sm",children:t}),r&&(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-0.5",children:r})]})]}),(0,a.jsx)("div",{className:"p-6",children:s})]})}function m({children:e}){return(0,a.jsx)("label",{className:"block text-sm font-semibold text-slate-200 mb-1.5",children:e})}function h({product:e}){let t=(0,l.useRouter)(),[r,n]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[f,b]=(0,s.useState)(e.name),[v,y]=(0,s.useState)(e.slug),[j,N]=(0,s.useState)(e.description||""),[w,S]=(0,s.useState)(e.price.toString()),[C,P]=(0,s.useState)(e.compareAtPrice?.toString()||""),[_,k]=(0,s.useState)(e.stock.toString()),[A,R]=(0,s.useState)(e.imageUrl),[E,M]=(0,s.useState)(void 0),[T,O]=(0,s.useState)(e.videoUrl||""),[U,z]=(0,s.useState)(e.images||[]),[D,I]=(0,s.useState)(e.variations.map(e=>{let t=e.name.split(" | ");return{id:e.id,size:t[0]||"",weight:t[1]||"",extra:t[2]||"",price:e.price.toString(),compareAtPrice:e.compareAtPrice?.toString()||"",stock:e.stock.toString()}})),[B,G]=(0,s.useState)(e.willowType||""),[$,q]=(0,s.useState)(e.grade||""),[F,K]=(0,s.useState)(e.blade||""),[L,W]=(0,s.useState)(e.ballType||""),[V,X]=(0,s.useState)(e.warranty||""),[H,Y]=(0,s.useState)(e.features||[]),[Q,J]=(0,s.useState)(e.category||""),[Z,ee]=(0,s.useState)(""),et=()=>{Z.trim()&&(Y(e=>[...e,Z.trim()]),ee(""))},er=e=>Y(t=>t.filter((t,r)=>r!==e)),[ea,es]=(0,s.useState)(!1),[el,en]=(0,s.useState)([]),[ei,eo]=(0,s.useState)([]),[ec,ed]=(0,s.useState)([]),[eu,ep]=(0,s.useState)(w||"0"),[ex,em]=(0,s.useState)("10"),[eh,eg]=(0,s.useState)(""),[ef,eb]=(0,s.useState)(""),ev=(e,t,r)=>r(e.includes(t)?e.filter(e=>e!==t):[...e,t]),ey=(e,t,r)=>{let a=[...D];a[e]={...a[e],[t]:r},I(a)},ej=e=>I(D.filter((t,r)=>r!==e)),eN=(e,t)=>{if(!e.type.startsWith("image/"))return;let r=new FileReader;r.onload=e=>{let r=new Image;r.onload=()=>{let e=document.createElement("canvas"),a=r.width,s=r.height;a>800&&(s=Math.round(800*s/a),a=800),e.width=a,e.height=s;let l=e.getContext("2d");l&&(l.fillStyle="#fff",l.fillRect(0,0,a,s),l.drawImage(r,0,0,a,s),t(e.toDataURL("image/webp",.8)))},r.src=e.target?.result},r.readAsDataURL(e)},ew=async r=>{r.preventDefault(),g(""),n(!0);try{let r=await i(e.id,{name:f,slug:v,description:j,price:Number(w),compareAtPrice:C?Number(C):void 0,stock:Number(_),imageUrl:E,images:U,videoUrl:T||void 0,willowType:B||void 0,grade:$||void 0,blade:F||void 0,ballType:L||void 0,warranty:V||void 0,features:H,category:Q||void 0,variations:D.map(e=>{let t=[e.size,e.weight,e.extra].filter(e=>e.trim());return{id:e.id,name:t.join(" | "),price:Number(e.price),compareAtPrice:e.compareAtPrice?Number(e.compareAtPrice):void 0,stock:Number(e.stock)}})});r.success?t.push("/admin/products"):(g(r.error||"Failed to save"),n(!1))}catch{g("Unexpected error."),n(!1)}},eS=e=>`px-3 py-1.5 rounded-lg text-xs font-semibold border cursor-pointer transition-all select-none ${e?"bg-primary text-black border-primary":"bg-slate-800 border-slate-600 text-slate-300 hover:border-primary/60 hover:text-primary"}`,eC=Math.max(1,el.length+ +!!eh.trim())*Math.max(1,ei.length+ +!!ef.trim())*Math.max(1,ec.length);return(0,a.jsxs)("form",{onSubmit:ew,className:"flex flex-col gap-6",children:[(0,a.jsxs)("a",{href:`/shop/${v}`,target:"_blank",rel:"noopener noreferrer",className:"group flex items-center gap-3 px-4 py-3 rounded-xl border border-slate-700 bg-slate-800 hover:border-primary/50 transition-colors",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[16px] text-slate-400",children:"link"}),(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"Live URL:"}),(0,a.jsxs)("span",{className:"text-xs text-primary font-medium group-hover:underline",children:["/shop/",v]}),(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px] text-slate-500 ml-auto",children:"open_in_new"})]}),h&&(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px] shrink-0 mt-0.5",children:"error"}),h]}),(0,a.jsx)(x,{icon:"edit_square",title:"Basic Information",subtitle:"Product name, slug and description",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Product Name"}),(0,a.jsx)("input",{required:!0,type:"text",value:f,onChange:e=>{b(e.target.value),y(e.target.value.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""))},className:p,placeholder:"e.g. Wolverine Hard Tennis Bat"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"URL Slug"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-sm select-none",children:"/shop/"}),(0,a.jsx)("input",{required:!0,type:"text",value:v,onChange:e=>y(e.target.value),className:`${p} pl-16`,placeholder:"wolverine-hard-tennis"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Description"}),(0,a.jsx)("textarea",{required:!0,rows:4,value:j,onChange:e=>N(e.target.value),className:`${p} resize-y`,placeholder:"Describe the product…"})]})]})}),(0,a.jsxs)(x,{icon:"payments",title:"Pricing & Stock",subtitle:"Set selling price, MRP and available inventory",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Selling Price (₹)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-bold",children:"₹"}),(0,a.jsx)("input",{required:!0,type:"number",min:"0",value:w,onChange:e=>S(e.target.value),className:`${p} pl-8`,placeholder:"eg. 2499"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Regular / MRP (₹) ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— strikethrough"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-bold",children:"₹"}),(0,a.jsx)("input",{type:"number",min:"0",value:C,onChange:e=>P(e.target.value),className:`${p} pl-8`,placeholder:"eg. 3499"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Stock Quantity"}),(0,a.jsx)("input",{required:!0,type:"number",min:"0",value:_,onChange:e=>k(e.target.value),className:p,placeholder:"eg. 50"})]})]}),w&&C&&Number(C)>Number(w)&&(0,a.jsxs)("div",{className:"mt-4 inline-flex items-center gap-2 text-xs text-green-400 bg-green-400/10 border border-green-400/20 px-3 py-1.5 rounded-full",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:"local_offer"}),Math.round((Number(C)-Number(w))/Number(C)*100),"% discount \xb7 Saves ₹",(Number(C)-Number(w)).toLocaleString("en-IN")]})]}),(0,a.jsx)(x,{icon:"photo_library",title:"Images & Media",subtitle:"Cover image, gallery photos and product video",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Cover Image"}),(0,a.jsxs)("div",{className:"flex items-start gap-5",children:[A?(0,a.jsxs)("div",{className:"relative size-36 rounded-xl overflow-hidden border border-slate-600 shrink-0 bg-slate-800",children:[(0,a.jsx)("img",{src:A,alt:"Cover",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>{R(null),M(void 0)},className:"absolute top-2 right-2 size-7 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 shadow-md",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:"close"})})]}):(0,a.jsxs)("label",{className:"cursor-pointer size-36 border-2 border-dashed border-slate-600 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-primary hover:text-primary transition-colors shrink-0",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-3xl mb-1",children:"add_photo_alternate"}),(0,a.jsx)("span",{className:"text-[11px] font-medium",children:"Upload Image"}),(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&eN(t,e=>{M(e),R(e)})}})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-400 leading-relaxed pt-1",children:[(0,a.jsx)("p",{className:"font-semibold text-slate-300 mb-1",children:"Tips for cover image"}),(0,a.jsxs)("ul",{className:"space-y-1 list-disc list-inside",children:[(0,a.jsx)("li",{children:"Square ratio (1:1) looks best on product cards"}),(0,a.jsx)("li",{children:"Auto-compressed to 800px WebP"}),(0,a.jsx)("li",{children:"Leave empty to keep current image"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Gallery Images ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— multiple angles"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3",children:[U.map((e,t)=>(0,a.jsxs)("div",{className:"relative size-20 rounded-xl overflow-hidden border border-slate-600 bg-slate-800 shrink-0",children:[(0,a.jsx)("img",{src:e,alt:"Gallery",className:"w-full h-full object-cover"}),(0,a.jsx)("button",{type:"button",onClick:()=>z(U.filter((e,r)=>r!==t)),className:"absolute top-1 right-1 size-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[11px]",children:"close"})})]},t)),(0,a.jsxs)("label",{className:"cursor-pointer size-20 border-2 border-dashed border-slate-600 rounded-xl flex flex-col items-center justify-center text-slate-400 hover:border-primary hover:text-primary transition-colors shrink-0",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-xl",children:"add_circle"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>Array.from(e.target.files||[]).forEach(e=>eN(e,e=>z(t=>[...t,e])))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Product Video URL ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— YouTube or MP4"})]}),(0,a.jsx)("input",{type:"url",value:T,onChange:e=>O(e.target.value),placeholder:"https://youtube.com/watch?v=...",className:p})]})]})}),(0,a.jsx)(x,{icon:"layers",title:"Product Variations",subtitle:"Each row = one Size + Weight combination with its own price & stock",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>es(e=>!e),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-400 text-black font-bold text-sm rounded-xl transition-all shadow-lg shadow-amber-500/20",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"auto_awesome"}),"Generate Combinations"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>I([...D,{size:"",weight:"",extra:"",price:w||"0",compareAtPrice:"",stock:"0"}]),className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 border border-slate-600 hover:border-primary/60 text-slate-300 hover:text-primary font-semibold text-sm rounded-xl transition-all",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"add"}),"Add One"]})]}),ea&&(0,a.jsxs)("div",{className:"rounded-xl border border-amber-500/30 bg-slate-800 p-5 flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px] text-amber-400",children:"auto_awesome"}),(0,a.jsx)("h4",{className:"font-bold text-white text-sm",children:"Variation Generator"}),(0,a.jsx)("span",{className:"text-[10px] bg-amber-500/20 text-amber-300 px-2 py-0.5 rounded-full font-bold uppercase tracking-wide",children:"Pick options → Generate"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>es(!1),className:"text-slate-500 hover:text-slate-300 p-1 rounded-lg hover:bg-white/5",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"close"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Bat Sizes"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:c.map(e=>(0,a.jsx)("span",{className:eS(el.includes(e)),onClick:()=>ev(el,e,en),children:e},e))}),(0,a.jsx)("input",{type:"text",placeholder:"+ Custom size (e.g. 36 inches)",value:eh,onChange:e=>eg(e.target.value),className:`${p} max-w-xs`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Weights"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:d.map(e=>(0,a.jsx)("span",{className:eS(ei.includes(e)),onClick:()=>ev(ei,e,eo),children:e},e))}),(0,a.jsx)("input",{type:"text",placeholder:"+ Custom weight (e.g. 1150-1200 grams)",value:ef,onChange:e=>eb(e.target.value),className:`${p} max-w-xs`})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Willow / Other ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"(optional)"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>(0,a.jsx)("span",{className:eS(ec.includes(e)),onClick:()=>ev(ec,e,ed),children:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Default Sale Price (₹)"}),(0,a.jsx)("input",{type:"number",value:eu,onChange:e=>ep(e.target.value),className:`${p} w-32`})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Default Stock"}),(0,a.jsx)("input",{type:"number",value:ex,onChange:e=>em(e.target.value),className:`${p} w-28`})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pt-2 border-t border-amber-500/20 flex-wrap",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{let e=[...el,...eh.trim()?[eh.trim()]:[]],t=[...ei,...ef.trim()?[ef.trim()]:[]],r=ec.length>0?ec:[""],a=t.length>0?t:[""],s=[];for(let t of e.length>0?e:[""])for(let e of a)for(let a of r)D.some(r=>r.size===t&&r.weight===e&&r.extra===a)||s.push({size:t,weight:e,extra:a,price:eu,compareAtPrice:"",stock:ex});I(e=>[...e,...s]),en([]),eo([]),ed([]),eg(""),eb(""),es(!1)},className:"flex items-center gap-2 bg-amber-500 hover:bg-amber-400 text-black font-bold px-5 py-2.5 rounded-xl text-sm shadow-lg shadow-amber-500/20",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"auto_awesome"}),"Generate ",eC," Combination",1!==eC?"s":""]}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"Skips duplicates already in the table."})]})]}),D.length>0?(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"hidden md:grid grid-cols-[1fr_1fr_1fr_100px_100px_80px_36px] gap-2 px-4 text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[(0,a.jsx)("span",{children:"Size"}),(0,a.jsx)("span",{children:"Weight"}),(0,a.jsx)("span",{children:"Willow / Other"}),(0,a.jsx)("span",{children:"Sale ₹"}),(0,a.jsx)("span",{children:"Regular ₹"}),(0,a.jsx)("span",{children:"Stock"}),(0,a.jsx)("span",{})]}),D.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_1fr_1fr_100px_100px_80px_36px] items-center gap-2 bg-white/[0.03] border border-white/8 px-4 py-3 rounded-xl hover:border-white/15 transition-colors",children:[(0,a.jsx)("input",{type:"text",list:"sz-opts",placeholder:"Size",value:e.size,onChange:e=>ey(t,"size",e.target.value),className:p}),(0,a.jsx)("input",{type:"text",list:"wt-opts",placeholder:"Weight",value:e.weight,onChange:e=>ey(t,"weight",e.target.value),className:p}),(0,a.jsx)("input",{type:"text",list:"ex-opts",placeholder:"Willow (Opt)",value:e.extra,onChange:e=>ey(t,"extra",e.target.value),className:p}),(0,a.jsx)("input",{required:!0,type:"number",placeholder:"Sale ₹",value:e.price,onChange:e=>ey(t,"price",e.target.value),className:p}),(0,a.jsx)("input",{type:"number",placeholder:"Reg ₹",value:e.compareAtPrice,onChange:e=>ey(t,"compareAtPrice",e.target.value),className:p}),(0,a.jsx)("input",{required:!0,type:"number",placeholder:"Stock",value:e.stock,onChange:e=>ey(t,"stock",e.target.value),className:p}),(0,a.jsx)("button",{type:"button",onClick:()=>ej(t),className:"size-9 flex items-center justify-center text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"delete"})})]},t))]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 py-10 border-2 border-dashed border-white/10 rounded-xl text-slate-500",children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-4xl text-slate-600",children:"layers"}),(0,a.jsx)("p",{className:"text-sm",children:"No variations yet."}),(0,a.jsxs)("p",{className:"text-xs text-slate-600",children:["Click ",(0,a.jsx)("strong",{className:"text-slate-400",children:"Generate Combinations"})," to create size\xd7weight rows at once."]})]}),(0,a.jsx)("datalist",{id:"sz-opts",children:c.map(e=>(0,a.jsx)("option",{value:e},e))}),(0,a.jsx)("datalist",{id:"wt-opts",children:d.map(e=>(0,a.jsx)("option",{value:e},e))}),(0,a.jsx)("datalist",{id:"ex-opts",children:u.map(e=>(0,a.jsx)("option",{value:e},e))})]})}),(0,a.jsx)(x,{icon:"tune",title:"Technical Specs & Category",subtitle:"Displayed in the Tech Specs card on the product page",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Category ",(0,a.jsx)("span",{className:"text-primary",children:"*"})]}),(0,a.jsxs)("select",{value:Q,onChange:e=>J(e.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-600 bg-slate-800 text-white focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/20 transition-all text-sm",children:[(0,a.jsx)("option",{value:"",children:"— Uncategorised —"}),(0,a.jsx)("option",{value:"Hard Tennis Bats",children:"Hard Tennis Bats"}),(0,a.jsx)("option",{value:"Soft Tennis Bats",children:"Soft Tennis Bats"}),(0,a.jsx)("option",{value:"Season Bats",children:"Season Bats"}),(0,a.jsx)("option",{value:"Kids Bats",children:"Kids Bats"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Willow Type"}),(0,a.jsx)("input",{type:"text",value:B,onChange:e=>G(e.target.value),placeholder:"e.g. Kashmir Willow",className:p})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Grade"}),(0,a.jsx)("input",{type:"text",value:$,onChange:e=>q(e.target.value),placeholder:"e.g. Premium",className:p})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Blade"}),(0,a.jsx)("input",{type:"text",value:F,onChange:e=>K(e.target.value),placeholder:"e.g. Full Size",className:p})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Ball Type"}),(0,a.jsx)("input",{type:"text",value:L,onChange:e=>W(e.target.value),placeholder:"e.g. Hard Tennis / Leather",className:p})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{children:"Warranty"}),(0,a.jsx)("input",{type:"text",value:V,onChange:e=>X(e.target.value),placeholder:"e.g. 1 Year",className:p})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(m,{children:["Feature Badges ",(0,a.jsx)("span",{className:"text-slate-600 font-normal normal-case",children:"— pill chips on the product page"})]}),H.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:H.map((e,t)=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 bg-primary/10 text-primary text-xs font-semibold px-3 py-1.5 rounded-full border border-primary/20",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>er(t),className:"text-primary/50 hover:text-red-400 transition-colors",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[13px]",children:"close"})})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:Z,onChange:e=>ee(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),et())},placeholder:"Type a feature and press Enter…",className:`${p} flex-1`}),(0,a.jsx)("button",{type:"button",onClick:et,className:"px-5 py-3 bg-primary/10 text-primary border border-primary/20 rounded-xl text-sm font-bold hover:bg-primary/20 transition-colors shrink-0",children:"Add"})]})]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 px-6 py-4 rounded-2xl border border-slate-700 bg-slate-900",children:[(0,a.jsxs)("p",{className:"text-sm text-slate-300",children:[(0,a.jsx)("span",{className:"font-semibold text-white",children:f||"Product"}),(0,a.jsx)("span",{className:"mx-2 text-slate-500",children:"/"}),(0,a.jsxs)("span",{className:"text-slate-400 text-xs",children:["/shop/",v]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.default,{productId:e.id,productName:f}),(0,a.jsx)("button",{type:"button",onClick:()=>t.push("/admin/products"),className:"px-5 py-2.5 rounded-xl border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 text-sm font-semibold transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:r,className:"flex items-center gap-2 px-6 py-2.5 bg-primary hover:bg-amber-400 text-black font-bold rounded-xl text-sm transition-all shadow-lg shadow-primary/20 disabled:opacity-60 disabled:cursor-not-allowed",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"}),"Saving…"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"save"}),"Save Product"]})})]})]})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},48408:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,85814,23)),Promise.resolve().then(r.bind(r,21634))},55511:e=>{"use strict";e.exports=require("crypto")},57366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(65239),s=r(48088),l=r(88170),n=r.n(l),i=r(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c={children:["",{children:["admin",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,14113)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,16439)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\[id]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/products/[id]/page",pathname:"/admin/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},59325:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"404ce44822ec5c46ecfc1d9fab15774785f69bf107":()=>i,"40c2666a33a735d3856b50daa686683ef47cded97c":()=>o,"60c43dd9ba67b724358fefe2a4f9586948eaed6e45":()=>c,"7f3b2c42cab10e20cad01db774d9f831841c6fb349":()=>a.M$,"7f57427a84a646118002d5cd67de268ed9131f7a24":()=>a.Sz,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131":()=>a.d$,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676":()=>a.zh});var a=r(21941),s=r(91199);r(42087);var l=r(70664),n=r(7944);async function i(e){try{return await l.z.product.update({where:{id:e},data:{isArchived:!0}}),(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),{success:!0}}catch(e){return console.error("Failed to archive product:",e),{success:!1,error:"Failed to retire product."}}}async function o(e){try{let t=await l.z.product.create({data:{name:e.name,slug:e.slug,description:e.description,price:e.price,compareAtPrice:e.compareAtPrice||null,stock:e.stock,imageUrl:e.imageUrl,images:e.images||[],videoUrl:e.videoUrl,willowType:e.willowType||null,grade:e.grade||null,blade:e.blade||null,ballType:e.ballType||null,warranty:e.warranty||null,features:e.features||[],category:e.category||null,variations:{create:e.variations||[]}}});return(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),{success:!0,product:t}}catch(e){if(console.error("Failed to create product:",e),e&&"object"==typeof e&&"code"in e&&"P2002"===e.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to create product."}}}async function c(e,t){try{await l.z.productVariation.deleteMany({where:{productId:e}});let r=await l.z.product.update({where:{id:e},data:{name:t.name,slug:t.slug,description:t.description,price:t.price,compareAtPrice:t.compareAtPrice||null,stock:t.stock,...t.imageUrl&&{imageUrl:t.imageUrl},...void 0!==t.images&&{images:t.images},...void 0!==t.videoUrl&&{videoUrl:t.videoUrl},willowType:t.willowType||null,grade:t.grade||null,blade:t.blade||null,ballType:t.ballType||null,warranty:t.warranty||null,features:t.features||[],category:t.category||null,variations:{create:t.variations?.map(e=>({name:e.name,price:e.price,compareAtPrice:e.compareAtPrice||null,stock:e.stock}))||[]}}});return(0,n.revalidatePath)("/admin/products"),(0,n.revalidatePath)("/shop"),(0,n.revalidatePath)(`/shop/${r.slug}`),{success:!0,product:r}}catch(e){if(console.error("Failed to update product:",e),e&&"object"==typeof e&&"code"in e&&"P2002"===e.code)return{success:!1,error:"A product with this slug already exists."};return{success:!1,error:"Failed to update product."}}}(0,r(33331).D)([i,o,c]),(0,s.A)(i,"404ce44822ec5c46ecfc1d9fab15774785f69bf107",null),(0,s.A)(o,"40c2666a33a735d3856b50daa686683ef47cded97c",null),(0,s.A)(c,"60c43dd9ba67b724358fefe2a4f9586948eaed6e45",null)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63065:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\admin\\\\products\\\\[id]\\\\EditProductForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\admin\\products\\[id]\\EditProductForm.tsx","default")},64549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"00baa4b735df1f70c1f3c6249c1ec986c75bc304df":()=>a.$$RSC_SERVER_ACTION_0});var a=r(99111)},65232:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(60687),s=r(43210),l=r(6475);let n=(0,l.createServerReference)("404ce44822ec5c46ecfc1d9fab15774785f69bf107",l.callServer,void 0,l.findSourceMapURL,"deleteProduct");function i({productId:e,productName:t}){let[r,l]=(0,s.useTransition)();return(0,a.jsx)("button",{onClick:()=>{confirm(`Are you sure you want to delete ${t}? This cannot be undone.`)&&l(async()=>{let t=await n(e);t.success||alert(t.error)})},disabled:r,className:`p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors hover:text-red-500 ${r?"opacity-50 cursor-not-allowed text-red-500":""}`,title:"Delete Product",children:(0,a.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:r?"sync":"delete"})})}},67218:(e,t,r)=>{"use strict";Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a.registerServerReference}});let a=r(12907)},74722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalizeAppPath:function(){return l},normalizeRscURL:function(){return n}});let a=r(85531),s=r(35499);function l(e){return(0,a.ensureLeadingSlash)(e.split("/").reduce((e,t,r,a)=>!t||(0,s.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===a.length-1?e:e+"/"+t,""))}function n(e){return e.replace(/\.rsc($|\?)/,"$1")}},79130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{decryptActionBoundArgs:function(){return h},encryptActionBoundArgs:function(){return m}}),r(34822);let a=r(12907),s=r(52513),l=r(77855),n=r(82602),i=r(63033),o=r(84971),c=function(e){return e&&e.__esModule?e:{default:e}}(r(61120)),d=new TextEncoder,u=new TextDecoder;async function p(e,t){let r=await (0,n.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let a=atob(t),s=a.slice(0,16),l=a.slice(16),i=u.decode(await (0,n.decrypt)(r,(0,n.stringToUint8Array)(s),(0,n.stringToUint8Array)(l)));if(!i.startsWith(e))throw Object.defineProperty(Error("Invalid Server Action payload: failed to decrypt."),"__NEXT_ERROR_CODE",{value:"E191",enumerable:!1,configurable:!0});return i.slice(e.length)}async function x(e,t){let r=await (0,n.getActionEncryptionKey)();if(void 0===r)throw Object.defineProperty(Error("Missing encryption key for Server Action. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E65",enumerable:!1,configurable:!0});let a=new Uint8Array(16);i.workUnitAsyncStorage.exit(()=>crypto.getRandomValues(a));let s=(0,n.arrayBufferToString)(a.buffer),l=await (0,n.encrypt)(r,a,d.encode(e+t));return btoa(s+(0,n.arrayBufferToString)(l))}let m=c.default.cache(async function e(t,...r){let{clientModules:s}=(0,n.getClientReferenceManifestForRsc)(),c=Error();Error.captureStackTrace(c,e);let d=!1,u=i.workUnitAsyncStorage.getStore(),p=(null==u?void 0:u.type)==="prerender"?(0,o.createHangingInputAbortSignal)(u):void 0,m=await (0,l.streamToString)((0,a.renderToReadableStream)(r,s,{signal:p,onError(e){(null==p||!p.aborted)&&(d||(d=!0,c.message=e instanceof Error?e.message:String(e)))}}),p);if(d)throw c;if(!u)return x(t,m);let h=(0,i.getPrerenderResumeDataCache)(u),g=(0,i.getRenderResumeDataCache)(u),f=t+m,b=(null==h?void 0:h.encryptedBoundArgs.get(f))??(null==g?void 0:g.encryptedBoundArgs.get(f));if(b)return b;let v="prerender"===u.type?u.cacheSignal:void 0;null==v||v.beginRead();let y=await x(t,m);return null==v||v.endRead(),null==h||h.encryptedBoundArgs.set(f,y),y});async function h(e,t){let r,a=await t,l=i.workUnitAsyncStorage.getStore();if(l){let t="prerender"===l.type?l.cacheSignal:void 0,s=(0,i.getPrerenderResumeDataCache)(l),n=(0,i.getRenderResumeDataCache)(l);(r=(null==s?void 0:s.decryptedBoundArgs.get(a))??(null==n?void 0:n.decryptedBoundArgs.get(a)))||(null==t||t.beginRead(),r=await p(e,a),null==t||t.endRead(),null==s||s.decryptedBoundArgs.set(a,r))}else r=await p(e,a);let{edgeRscModuleMapping:o,rscModuleMapping:c}=(0,n.getClientReferenceManifestForRsc)();return await (0,s.createFromReadableStream)(new ReadableStream({start(e){e.enqueue(d.encode(r)),(null==l?void 0:l.type)==="prerender"?l.renderSignal.aborted?e.close():l.renderSignal.addEventListener("abort",()=>e.close(),{once:!0}):e.close()}}),{serverConsumerManifest:{moduleLoading:null,moduleMap:c,serverModuleMap:(0,n.getServerModuleMap)()}})}},82602:(e,t,r)=>{"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{arrayBufferToString:function(){return i},decrypt:function(){return d},encrypt:function(){return c},getActionEncryptionKey:function(){return h},getClientReferenceManifestForRsc:function(){return m},getServerModuleMap:function(){return x},setReferenceManifestsSingleton:function(){return p},stringToUint8Array:function(){return o}});let s=r(71617),l=r(74722),n=r(29294);function i(e){let t=new Uint8Array(e),r=t.byteLength;if(r<65535)return String.fromCharCode.apply(null,t);let a="";for(let e=0;e<r;e++)a+=String.fromCharCode(t[e]);return a}function o(e){let t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return r}function c(e,t,r){return crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,r)}function d(e,t,r){return crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r)}let u=Symbol.for("next.server.action-manifests");function p({page:e,clientReferenceManifest:t,serverActionsManifest:r,serverModuleMap:a}){var s;let n=null==(s=globalThis[u])?void 0:s.clientReferenceManifestsPerPage;globalThis[u]={clientReferenceManifestsPerPage:{...n,[(0,l.normalizeAppPath)(e)]:t},serverActionsManifest:r,serverModuleMap:a}}function x(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});return e.serverModuleMap}function m(){let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let{clientReferenceManifestsPerPage:t}=e,r=n.workAsyncStorage.getStore();if(!r){var a=t;let e=Object.values(a),r={clientModules:{},edgeRscModuleMapping:{},rscModuleMapping:{}};for(let t of e)r.clientModules={...r.clientModules,...t.clientModules},r.edgeRscModuleMapping={...r.edgeRscModuleMapping,...t.edgeRscModuleMapping},r.rscModuleMapping={...r.rscModuleMapping,...t.rscModuleMapping};return r}let l=t[r.route];if(!l)throw Object.defineProperty(new s.InvariantError(`Missing Client Reference Manifest for ${r.route}.`),"__NEXT_ERROR_CODE",{value:"E570",enumerable:!1,configurable:!0});return l}async function h(){if(a)return a;let e=globalThis[u];if(!e)throw Object.defineProperty(new s.InvariantError("Missing manifest for Server Actions."),"__NEXT_ERROR_CODE",{value:"E606",enumerable:!1,configurable:!0});let t=process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY||e.serverActionsManifest.encryptionKey;if(void 0===t)throw Object.defineProperty(new s.InvariantError("Missing encryption key for Server Actions"),"__NEXT_ERROR_CODE",{value:"E571",enumerable:!1,configurable:!0});return a=await crypto.subtle.importKey("raw",o(atob(t)),"AES-GCM",!0,["encrypt","decrypt"])}},85531:(e,t)=>{"use strict";function r(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return r}})},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[80,479,43,538,341,391],()=>r(57366));module.exports=a})();