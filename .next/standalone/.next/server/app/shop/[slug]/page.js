(()=>{var e={};e.id=625,e.ids=[625],e.modules={2525:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4536,23)),Promise.resolve().then(s.bind(s,97981)),Promise.resolve().then(s.bind(s,29339)),Promise.resolve().then(s.bind(s,66994)),Promise.resolve().then(s.bind(s,85906))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9481:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(60687),a=s(43210);function l({mainImage:e,extraImages:t,productName:s,outOfStock:l}){let i=[e,...t].filter(e=>!!e),[n,o]=(0,a.useState)(0),[c,d]=(0,a.useState)(!1);if(0===i.length)return(0,r.jsx)("div",{className:"aspect-square w-full rounded-xl bg-neutral-800 border border-white/5 flex items-center justify-center text-slate-600",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-5xl",children:"image_not_supported"})});let x=i[n],m=(0,a.useCallback)(()=>o(e=>(e-1+i.length)%i.length),[i.length]),h=(0,a.useCallback)(()=>o(e=>(e+1)%i.length),[i.length]),p=(e="")=>(0,r.jsxs)("div",{className:`relative overflow-hidden rounded-xl bg-white border border-white/10 group aspect-square ${e}`,children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,r.jsx)("img",{src:x,alt:s,className:"w-full h-full object-contain transition-all duration-300"},x)}),l&&(0,r.jsx)("div",{className:"absolute top-3 left-3 bg-slate-900/80 backdrop-blur text-white text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wide border border-white/10",children:"Sold Out"}),i.length>1&&(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-black/50 backdrop-blur-md text-white text-xs font-medium px-2 py-0.5 rounded-full border border-white/10",children:[n+1," / ",i.length]}),(0,r.jsx)("button",{onClick:()=>d(!0),className:"absolute bottom-3 right-3 size-9 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:text-primary hover:bg-black/60 transition-all border border-white/10 opacity-0 group-hover:opacity-100",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"zoom_in"})}),i.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:m,className:"absolute left-2 top-1/2 -translate-y-1/2 size-9 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-black/60 transition-all border border-white/10 opacity-0 group-hover:opacity-100",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"chevron_left"})}),(0,r.jsx)("button",{onClick:h,className:"absolute right-2 top-1/2 -translate-y-1/2 size-9 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white hover:bg-black/60 transition-all border border-white/10 opacity-0 group-hover:opacity-100",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"chevron_right"})})]})]});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"hidden md:flex gap-3 w-full",children:[i.length>1&&(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 shrink-0",children:[(0,r.jsx)("button",{onClick:m,className:"flex justify-center py-1 text-slate-400 hover:text-white transition-colors",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"keyboard_arrow_up"})}),i.map((e,t)=>(0,r.jsx)("button",{onClick:()=>o(t),className:`w-16 h-16 lg:w-20 lg:h-20 shrink-0 rounded-lg overflow-hidden bg-white border-2 transition-all duration-200 ${t===n?"border-primary shadow-[0_0_10px_rgba(212,175,55,0.3)]":"border-slate-200/20 opacity-55 hover:opacity-90 hover:border-white/30"}`,children:(0,r.jsx)("img",{src:e,alt:`View ${t+1}`,className:"w-full h-full object-contain p-1"})},t)),(0,r.jsx)("button",{onClick:h,className:"flex justify-center py-1 text-slate-400 hover:text-white transition-colors",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"keyboard_arrow_down"})})]}),p("flex-1")]}),(0,r.jsxs)("div",{className:"flex md:hidden flex-col gap-3 w-full",children:[p("w-full"),i.length>1&&(0,r.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1",children:i.map((e,t)=>(0,r.jsx)("button",{onClick:()=>o(t),className:`shrink-0 size-16 rounded-lg overflow-hidden bg-white border-2 transition-all duration-200 ${t===n?"border-primary":"border-transparent opacity-55 hover:opacity-90"}`,children:(0,r.jsx)("img",{src:e,alt:`View ${t+1}`,className:"w-full h-full object-contain p-1"})},t))})]}),c&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>d(!1),children:(0,r.jsxs)("div",{className:"relative max-w-3xl w-full",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("img",{src:x,alt:s,className:"w-full h-auto object-contain max-h-[90vh] rounded-xl"}),(0,r.jsx)("button",{onClick:()=>d(!1),className:"absolute -top-4 -right-4 size-10 bg-white/10 text-white rounded-full flex items-center justify-center hover:bg-white/20 border border-white/20",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"close"})}),i.length>1&&(0,r.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:i.map((e,t)=>(0,r.jsx)("button",{onClick:()=>o(t),className:`h-2 rounded-full transition-all ${t===n?"bg-white w-5":"bg-white/40 w-2 hover:bg-white/60"}`},t))})]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21085:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,85814,23)),Promise.resolve().then(s.bind(s,75971)),Promise.resolve().then(s.bind(s,9481)),Promise.resolve().then(s.bind(s,69686)),Promise.resolve().then(s.bind(s,67655))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29339:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\shop\\\\[slug]\\\\ProductGallery.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\ProductGallery.tsx","default")},32529:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g,dynamic:()=>b});var r=s(37413),a=s(4536),l=s.n(a),i=s(39916),n=s(48644),o=s(95891),c=s(97981),d=s(29339),x=s(66994),m=s(85906);let h={"Hard Tennis Bats":{bg:"bg-blue-500/15",text:"text-blue-400",dot:"bg-blue-400"},"Soft Tennis Bats":{bg:"bg-cyan-500/15",text:"text-cyan-400",dot:"bg-cyan-400"},"Season Bats":{bg:"bg-amber-500/15",text:"text-amber-400",dot:"bg-amber-400"},"Kids Bats":{bg:"bg-pink-500/15",text:"text-pink-400",dot:"bg-pink-400"}};function p({category:e}){if(!e)return null;let t=h[e]??{bg:"bg-white/10",text:"text-slate-300",dot:"bg-slate-400"};return(0,r.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest ${t.bg} ${t.text}`,children:[(0,r.jsx)("span",{className:`size-1.5 rounded-full ${t.dot} shrink-0`}),e]})}function u({products:e,currentCategory:t}){return 0===e.length?null:(0,r.jsxs)("div",{className:"mt-20 lg:col-span-12",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-primary mb-1.5",children:t?`More ${t} Bats`:"More Products"}),(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-white",children:"You May Also Like"})]}),(0,r.jsxs)(l(),{href:"/shop",className:"inline-flex items-center gap-1.5 text-sm font-semibold text-slate-400 hover:text-primary transition-colors group",children:["View All",(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px] group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-5",children:e.map(e=>{let t=!!e.compareAtPrice&&e.compareAtPrice>e.price,s=t?Math.round((e.compareAtPrice-e.price)/e.compareAtPrice*100):null,a=e.stock<=0,i=!a&&e.stock<=5;return(0,r.jsxs)(l(),{href:`/shop/${e.slug}`,className:"group flex flex-col rounded-2xl overflow-hidden bg-white/[0.03] border border-white/8 hover:border-primary/40 transition-all duration-300 hover:shadow-[0_0_30px_-5px_rgba(245,167,20,0.15)]",children:[(0,r.jsxs)("div",{className:"relative aspect-[4/3] overflow-hidden bg-white/5",children:[e.imageUrl?(0,r.jsx)("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover group-hover:scale-[1.06] transition-transform duration-500"}):(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-5xl text-white/10",children:"sports_cricket"})}),(0,r.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"}),s&&(0,r.jsxs)("span",{className:"absolute top-2.5 left-2.5 bg-red-500 text-white text-[10px] font-black px-2 py-0.5 rounded-full tracking-wide shadow-lg",children:["-",s,"%"]}),a?(0,r.jsx)("span",{className:"absolute top-2.5 right-2.5 bg-black/70 backdrop-blur-sm text-white/60 text-[10px] font-semibold px-2 py-0.5 rounded-full border border-white/10",children:"Out of Stock"}):i?(0,r.jsxs)("span",{className:"absolute top-2.5 right-2.5 bg-orange-500/90 backdrop-blur-sm text-white text-[10px] font-bold px-2 py-0.5 rounded-full",children:["Only ",e.stock," left"]}):null,e.category&&(0,r.jsx)("div",{className:"absolute bottom-2.5 left-2.5",children:(0,r.jsx)(p,{category:e.category})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 p-4",children:[(0,r.jsx)("p",{className:"text-white font-semibold text-sm leading-snug line-clamp-2 group-hover:text-primary transition-colors min-h-[2.5rem]",children:e.name}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2 flex-wrap",children:[(0,r.jsxs)("span",{className:"text-primary font-black text-base",children:["â‚¹",e.price.toLocaleString("en-IN")]}),t&&(0,r.jsxs)("span",{className:"text-slate-500 text-xs line-through font-medium",children:["â‚¹",e.compareAtPrice.toLocaleString("en-IN")]}),t&&(0,r.jsxs)("span",{className:"text-green-400 text-[10px] font-bold",children:["Save â‚¹",(e.compareAtPrice-e.price).toLocaleString("en-IN")]})]}),(0,r.jsxs)("div",{className:"mt-1 pt-3 border-t border-white/5 flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[(0,r.jsx)("span",{className:`size-1.5 rounded-full ${a?"bg-red-500":"bg-green-500"}`}),a?"Out of stock":"In stock"]}),(0,r.jsxs)("span",{className:"text-[11px] font-bold text-primary/70 group-hover:text-primary transition-colors inline-flex items-center gap-0.5",children:["View Details",(0,r.jsx)("span",{className:"material-symbols-outlined !text-[13px] group-hover:translate-x-0.5 transition-transform",children:"chevron_right"})]})]})]})]},e.id)})})]})}var f=s(59914);let b="force-dynamic";async function g({params:e}){let t=await e,s=await (0,n.M$)(t.slug);s||(0,i.notFound)();let[a,h,p]=await Promise.all([(0,o.eR)(s.id),(0,f.j2)(),(0,n.Sz)(s.id,s.category??null)]),b=a.length>0?a.reduce((e,t)=>e+t.rating,0)/a.length:0,g=`${process.env.NEXT_PUBLIC_SITE_URL||"https://stagkashmir.com"}/shop/${s.slug}`;return(0,r.jsx)("main",{className:"flex-1 flex justify-center py-8 px-4 sm:px-8 lg:px-12",children:(0,r.jsxs)("div",{className:"flex flex-col w-full max-w-[1280px]",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 pb-6 text-sm",children:[(0,r.jsx)(l(),{className:"text-slate-400 hover:text-primary font-medium transition-colors",href:"/",children:"Home"}),(0,r.jsx)("span",{className:"text-slate-600",children:"/"}),(0,r.jsx)(l(),{className:"text-slate-400 hover:text-primary font-medium transition-colors",href:"/shop",children:"Cricket Bats"}),(0,r.jsx)("span",{className:"text-slate-600",children:"/"}),(0,r.jsx)("span",{className:"text-white font-semibold",children:s.name})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10 xl:gap-16",children:[(0,r.jsx)("div",{className:"lg:col-span-6",children:(0,r.jsx)(d.default,{mainImage:s.imageUrl,extraImages:s.images||[],productName:s.name,outOfStock:s.stock<=0})}),(0,r.jsxs)("div",{className:"lg:col-span-6 flex flex-col h-full",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white leading-tight mb-2",children:s.name}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(e=>(0,r.jsx)("span",{className:`material-symbols-outlined !text-[18px] ${Math.round(b)>=e?"text-yellow-400":"text-slate-600"}`,style:{fontVariationSettings:"'FILL' 1"},children:"star"},e))}),a.length>0&&(0,r.jsxs)("span",{className:"text-sm text-slate-400",children:[b.toFixed(1)," (",a.length," ",1===a.length?"review":"reviews",")"]}),(0,r.jsx)("span",{className:"h-4 w-px bg-white/10"}),(0,r.jsxs)("span",{className:`text-sm font-medium flex items-center gap-1 ${s.stock>0?"text-green-500":"text-red-500"}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[16px]",children:s.stock>0?"check_circle":"cancel"}),s.stock>0?"In Stock":"Out of Stock"]})]}),s.stock>0&&s.stock<=5&&(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4 px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-lg w-fit",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[16px] text-red-400 animate-pulse",children:"warning"}),(0,r.jsxs)("span",{className:"text-red-400 text-sm font-semibold",children:["Only ",s.stock," left in stock â€” order soon!"]})]}),(0,r.jsxs)("div",{className:"space-y-6 flex-1 mt-4",children:[(0,r.jsx)(c.default,{product:{id:s.id,name:s.name,price:s.price,compareAtPrice:s.compareAtPrice,stock:s.stock,imageUrl:s.imageUrl,variations:s.variations}}),(0,r.jsxs)("div",{className:"border border-white/8 rounded-xl overflow-hidden divide-x divide-white/8 flex flex-wrap",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 flex-1 min-w-[130px]",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-green-400",children:"payments"}),(0,r.jsxs)("span",{className:"text-xs font-semibold text-white leading-tight",children:["Cash on",(0,r.jsx)("br",{}),"Delivery"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 flex-1 min-w-[120px] border-l border-white/8",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-blue-400",children:"smartphone"}),(0,r.jsxs)("span",{className:"text-xs font-semibold text-white leading-tight",children:["UPI",(0,r.jsx)("br",{}),"Accepted"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 flex-1 min-w-[100px] border-l border-white/8",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-purple-400",children:"credit_card"}),(0,r.jsxs)("span",{className:"text-xs font-semibold text-white leading-tight",children:["All",(0,r.jsx)("br",{}),"Cards"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 flex-1 min-w-[120px] border-l border-white/8",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] text-yellow-400",children:"lock"}),(0,r.jsxs)("span",{className:"text-xs font-semibold text-white leading-tight",children:["Secure",(0,r.jsx)("br",{}),"Checkout"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 text-slate-400 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-lg text-primary",children:"local_shipping"}),(0,r.jsx)("span",{children:"Free Expedited Shipping"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-lg text-primary",children:"verified_user"}),(0,r.jsx)("span",{children:"1 Year Professional Warranty"})]})]}),(0,r.jsx)(m.default,{productName:s.name,productUrl:g})]})]}),(0,r.jsx)("div",{className:"mt-8 lg:col-span-12",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"w-1 h-6 bg-primary rounded-full inline-block"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-white tracking-tight",children:"About this Bat"})]}),(0,r.jsx)("p",{className:"text-slate-300 leading-relaxed text-base font-light border-l-2 border-primary/30 pl-5",children:s.description}),s.features?.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:s.features.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-semibold px-3 py-1.5 rounded-full bg-white/5 text-slate-300 border border-white/10",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[14px] text-primary",children:"check_circle"}),e]},e))})]}),(()=>{let e=[{icon:"nature",label:"Willow Type",value:s.willowType},{icon:"workspace_premium",label:"Grade",value:s.grade},{icon:"straighten",label:"Blade",value:s.blade},{icon:"sports_cricket",label:"Ball Type",value:s.ballType},{icon:"verified",label:"Warranty",value:s.warranty}].filter(e=>e.value);return 0===e.length?null:(0,r.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"w-1 h-6 bg-primary rounded-full inline-block"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Technical Specs"})]}),(0,r.jsx)("div",{className:"bg-white/[0.03] border border-white/8 rounded-2xl overflow-hidden divide-y divide-white/5",children:e.map(({icon:e,label:t,value:s})=>(0,r.jsxs)("div",{className:"flex items-center justify-between px-5 py-3.5 hover:bg-white/[0.03] transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px] text-primary/70 group-hover:text-primary transition-colors",children:e}),(0,r.jsx)("span",{className:"text-sm text-slate-400",children:t})]}),(0,r.jsx)("span",{className:"text-sm font-semibold text-white",children:s})]},t))})]})})()]})}),(0,r.jsx)(x.default,{productId:s.id,productSlug:s.slug,reviews:a,user:h?.user??null}),(0,r.jsx)(u,{products:p,currentCategory:s.category??null})]})]})})}},33873:e=>{"use strict";e.exports=require("path")},40454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(65239),a=s(48088),l=s(88170),i=s.n(l),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c={children:["",{children:["shop",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32529)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,16439)),"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/shop/[slug]/page",pathname:"/shop/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},48644:(e,t,s)=>{"use strict";s.d(t,{M$:()=>o,Sz:()=>c,d$:()=>n,zh:()=>d});var r=s(67218);s(79130);var a=s(31183),l=s(62351),i=s(17478);let n=(0,l.unstable_cache)(async()=>{try{return await a.z.product.findMany({where:{isArchived:!1},orderBy:{createdAt:"desc"},include:{variations:!0}})}catch(e){return console.error("Failed to fetch products:",e),[]}},["website-products"],{revalidate:3600,tags:["products"]}),o=(0,l.unstable_cache)(async e=>{try{return await a.z.product.findFirst({where:{slug:e,isArchived:!1},include:{variations:!0}})}catch(t){return console.error(`Failed to fetch product ${e}:`,t),null}},["website-product-by-slug"],{revalidate:3600,tags:["products"]}),c=(0,l.unstable_cache)(async(e,t,s=4)=>{try{let r={id:{not:e},isArchived:!1};t&&(r.category=t);let l=await a.z.product.findMany({where:r,take:s,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});if(l.length<s){let t=await a.z.product.findMany({where:{isArchived:!1,id:{not:e},...l.length>0?{NOT:{id:{in:l.map(e=>e.id)}}}:{}},take:s-l.length,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});return[...l,...t]}return l}catch(e){return console.error("Failed to fetch related products:",e),[]}},["website-related-products"],{revalidate:3600,tags:["products"]}),d=async(e,t=5)=>{try{if(!e.trim())return[];return await a.z.product.findMany({where:{isArchived:!1,OR:[{name:{contains:e,mode:"insensitive"}},{category:{contains:e,mode:"insensitive"}}]},take:t,select:{id:!0,slug:!0,name:!0,price:!0,imageUrl:!0,category:!0}})}catch(e){return console.error("Failed to search products:",e),[]}};(0,i.D)([n,o,c,d]),(0,r.A)(n,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131",null),(0,r.A)(o,"7f3b2c42cab10e20cad01db774d9f831841c6fb349",null),(0,r.A)(c,"7f57427a84a646118002d5cd67de268ed9131f7a24",null),(0,r.A)(d,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676",null)},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66994:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\shop\\\\[slug]\\\\ProductReviews.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\ProductReviews.tsx","default")},67655:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(60687),a=s(43210);function l({productName:e,productUrl:t}){let[s,l]=(0,a.useState)(!1),i=`https://wa.me/?text=${encodeURIComponent(`Check out this ${e} ðŸ
${t}`)}`,n=async()=>{try{await navigator.clipboard.writeText(t),l(!0),setTimeout(()=>l(!1),2e3)}catch{}};return(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,r.jsx)("span",{className:"text-xs text-slate-500 font-medium uppercase tracking-widest",children:"Share"}),(0,r.jsxs)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-[#25D366]/10 text-[#25D366] border border-[#25D366]/20 rounded-full text-xs font-semibold hover:bg-[#25D366]/20 transition-colors",children:[(0,r.jsx)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"WhatsApp"]}),(0,r.jsxs)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-pink-500/10 text-pink-400 border border-pink-500/20 rounded-full text-xs font-semibold hover:bg-pink-500/20 transition-colors",children:[(0,r.jsx)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})}),"Instagram"]}),(0,r.jsxs)("button",{onClick:n,className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white/5 text-slate-300 border border-white/10 rounded-full text-xs font-semibold hover:bg-white/10 transition-colors",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:s?"check":"link"}),s?"Copied!":"Copy Link"]})]})}},69256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"00bc0f97afd3e2d2c7101acb2ba9566a55c94cbfbf":()=>a.zu,"407e233d0ac7f47786c68b226cad313f0730972575":()=>a.h6,"409bea58edeab63b7651f78b41d043450c5ced6a63":()=>a.Io,"40d6f4173ab27a077080d48a73327997ca3018ce9b":()=>a.Wr,"40e9ccb5dbaeb3c402313b733a9ff700e3683f6fba":()=>a.eR,"7f3b2c42cab10e20cad01db774d9f831841c6fb349":()=>r.M$,"7f57427a84a646118002d5cd67de268ed9131f7a24":()=>r.Sz,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131":()=>r.d$,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676":()=>r.zh});var r=s(48644),a=s(95891)},69686:(e,t,s)=>{"use strict";s.d(t,{default:()=>et});var r=s(60687),a=s(43210);class l extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let s=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${s}`}}class i extends l{}i.kind="signIn";class n extends l{}n.type="AdapterError";class o extends l{}o.type="AccessDenied";class c extends l{}c.type="CallbackRouteError";class d extends l{}d.type="ErrorPageLoop";class x extends l{}x.type="EventError";class m extends l{}m.type="InvalidCallbackUrl";class h extends i{constructor(){super(...arguments),this.code="credentials"}}h.type="CredentialsSignin";class p extends l{}p.type="InvalidEndpoints";class u extends l{}u.type="InvalidCheck";class f extends l{}f.type="JWTSessionError";class b extends l{}b.type="MissingAdapter";class g extends l{}g.type="MissingAdapterMethods";class y extends l{}y.type="MissingAuthorize";class v extends l{}v.type="MissingSecret";class w extends i{}w.type="OAuthAccountNotLinked";class j extends i{}j.type="OAuthCallbackError";class N extends l{}N.type="OAuthProfileParseError";class k extends l{}k.type="SessionTokenError";class S extends i{}S.type="OAuthSignInError";class C extends i{}C.type="EmailSignInError";class A extends l{}A.type="SignOutError";class _ extends l{}_.type="UnknownAction";class P extends l{}P.type="UnsupportedStrategy";class U extends l{}U.type="InvalidProvider";class $ extends l{}$.type="UntrustedHost";class z extends l{}z.type="Verification";class I extends i{}I.type="MissingCSRF";class E extends l{}E.type="DuplicateConditionalUI";class T extends l{}T.type="MissingWebAuthnAutocomplete";class L extends l{}L.type="WebAuthnVerificationError";class R extends i{}R.type="AccountNotLinked";class M extends l{}M.type="ExperimentalFeatureNotEnabled";class B extends l{}async function V(e,t,s,r={}){let a=`${D(t)}/${e}`;try{let e={headers:{"Content-Type":"application/json",...r?.headers?.cookie?{cookie:r.headers.cookie}:{}}};r?.body&&(e.body=JSON.stringify(r.body),e.method="POST");let t=await fetch(a,e),s=await t.json();if(!t.ok)throw s;return s}catch(e){return s.error(new B(e.message,e)),null}}function D(e){return`${e.baseUrlServer}${e.basePathServer}`}function F(e){let t=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);let s=new URL(e||t),r=("/"===s.pathname?t.pathname:s.pathname).replace(/\/$/,""),a=`${s.origin}${r}`;return{origin:s.origin,host:s.host,path:r,base:a,toString:()=>a}}let O={baseUrl:F(process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePath:F(process.env.NEXTAUTH_URL).path,baseUrlServer:F(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL??process.env.VERCEL_URL).origin,basePathServer:F(process.env.NEXTAUTH_URL_INTERNAL??process.env.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:()=>{}},G=null;function W(){return"undefined"==typeof BroadcastChannel?{postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},name:"next-auth",onmessage:null,onmessageerror:null,close:()=>{},dispatchEvent:()=>!1}:new BroadcastChannel("next-auth")}let q={debug:console.debug,error:console.error,warn:console.warn};a.createContext?.(void 0);async function K(){let e=await V("csrf",O,q);return e?.csrfToken??""}async function H(){return V("providers",O,q)}async function X(e,t,s){let{callbackUrl:r,...a}=t??{},{redirect:l=!0,redirectTo:i=r??window.location.href,...n}=a,o=D(O),c=await H();if(!c){let e=`${o}/error`;window.location.href=e;return}if(!e||!c[e]){let e=`${o}/signin?${new URLSearchParams({callbackUrl:i})}`;window.location.href=e;return}let d=c[e].type;if("webauthn"===d)throw TypeError(`Provider id "${e}" refers to a WebAuthn provider.
Please use \`import { signIn } from "next-auth/webauthn"\` instead.`);let x=`${o}/${"credentials"===d?"callback":"signin"}/${e}`,m=await K(),h=await fetch(`${x}?${new URLSearchParams(s)}`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...n,csrfToken:m,callbackUrl:i})}),p=await h.json();if(l){let e=p.url??i;window.location.href=e,e.includes("#")&&window.location.reload();return}let u=new URL(p.url).searchParams.get("error")??void 0,f=new URL(p.url).searchParams.get("code")??void 0;return h.ok&&await O._getSession({event:"storage"}),{error:u,code:f,status:h.status,ok:h.ok,url:u?null:p.url}}var Y=s(6475);let J=(0,Y.createServerReference)("407e233d0ac7f47786c68b226cad313f0730972575",Y.callServer,void 0,Y.findSourceMapURL,"submitReview");function Q({rating:e,interactive:t=!1,size:s=18,onSelect:l}){let[i,n]=(0,a.useState)(0);return(0,r.jsx)("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(a=>(0,r.jsx)("button",{type:"button",disabled:!t,onClick:()=>l?.(a),onMouseEnter:()=>t&&n(a),onMouseLeave:()=>t&&n(0),className:t?"cursor-pointer":"cursor-default",children:(0,r.jsx)("span",{className:`material-symbols-outlined !text-[${s}px] transition-colors ${(i||e)>=a?"text-primary":"text-white/15"}`,style:{fontVariationSettings:"'FILL' 1",fontSize:`${s}px`},children:"star"})},a))})}function Z({label:e,count:t,total:s}){let a=s>0?t/s*100:0;return(0,r.jsxs)("div",{className:"flex items-center gap-2.5 text-sm",children:[(0,r.jsx)("span",{className:"text-slate-400 w-3 text-right shrink-0",children:e}),(0,r.jsx)("span",{className:"material-symbols-outlined !text-[13px] text-primary shrink-0",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),(0,r.jsx)("div",{className:"flex-1 h-1 bg-white/8 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-primary rounded-full transition-all duration-500",style:{width:`${a}%`}})}),(0,r.jsx)("span",{className:"text-slate-600 w-4 text-right shrink-0 text-xs",children:t})]})}function ee({review:e}){return(0,r.jsxs)("div",{className:"relative flex flex-col justify-between gap-5 p-6 rounded-2xl bg-white/[0.04] border border-white/8 hover:border-primary/30 hover:bg-white/[0.06] transition-all duration-300 h-full w-[300px] md:w-[340px] shrink-0",children:[(0,r.jsx)("span",{className:"absolute top-4 right-5 text-6xl font-serif text-primary/10 leading-none select-none pointer-events-none",children:'"'}),(0,r.jsx)(Q,{rating:e.rating,size:16}),(0,r.jsxs)("p",{className:"text-slate-300 text-sm leading-relaxed flex-1 line-clamp-5",children:['"',e.comment,'"']}),(0,r.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-white/8",children:[(0,r.jsx)("div",{className:"size-9 rounded-full bg-primary/20 border border-primary/30 flex items-center justify-center text-primary font-bold text-sm shrink-0",children:e.authorName.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-semibold text-sm",children:e.authorName}),(0,r.jsx)("p",{className:"text-slate-500 text-xs",children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]}),(0,r.jsxs)("span",{className:"ml-auto inline-flex items-center gap-1 text-xs text-green-400/70 font-medium shrink-0",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[13px]",style:{fontVariationSettings:"'FILL' 1"},children:"verified"}),"Verified"]})]})]})}function et({productId:e,productSlug:t,reviews:s,user:l}){let[i,n]=(0,a.useState)(0),[o,c]=(0,a.useState)(""),[d,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[p,u]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1),g=(0,a.useRef)(null),[y,v]=(0,a.useState)(0),w=(0,a.useRef)(!1),j=(0,a.useCallback)(e=>{let t=g.current;if(!t||0===s.length)return;let r=(e+s.length)%s.length;v(r);let a=t.children[r];a&&t.scrollTo({left:a.offsetLeft-16,behavior:"smooth"})},[s.length]),N=s.length>0?s.reduce((e,t)=>e+t.rating,0)/s.length:0,k=[5,4,3,2,1].map(e=>({label:e,count:s.filter(t=>t.rating===e).length})),S=async s=>{if(s.preventDefault(),0===i){u("Please select a star rating.");return}if(!l?.name)return;h(!0),u("");let r=await J({productId:e,productSlug:t,authorName:l.name,rating:i,comment:o});h(!1),r.success?(x(!0),c(""),n(0),b(!1)):u(r.error||"Something went wrong.")};return(0,r.jsxs)("div",{className:"mt-20 lg:col-span-12",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end justify-between gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-primary mb-2",children:"Customer Reviews"}),(0,r.jsxs)("h2",{className:"text-3xl font-bold text-white",children:["What our ",(0,r.jsx)("span",{className:"text-primary italic",children:"players"})," say"]}),s.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,r.jsx)(Q,{rating:Math.round(N),size:18}),(0,r.jsxs)("span",{className:"text-slate-400 text-sm",children:[N.toFixed(1)," out of 5 \xb7 ",s.length," ",1===s.length?"review":"reviews"]})]})]}),(0,r.jsxs)("button",{onClick:()=>{if(!l){X("google",{callbackUrl:window.location.href});return}b(e=>!e)},className:"inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-black font-bold text-sm rounded-xl hover:bg-amber-400 transition-colors shrink-0",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"rate_review"}),l?"Write a Review":"Sign in to Review"]})]}),f&&l&&(0,r.jsx)("div",{className:"mb-8 bg-white/[0.03] border border-primary/20 rounded-2xl p-6 max-w-xl",children:d?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6 text-center",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-5xl text-green-400",style:{fontVariationSettings:"'FILL' 1"},children:"check_circle"}),(0,r.jsx)("p",{className:"text-white font-bold",children:"Thank you for your review!"}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:"It'll appear here once our team approves it."}),(0,r.jsx)("button",{onClick:()=>{x(!1),b(!1)},className:"text-xs text-primary underline mt-1",children:"Close"})]}):(0,r.jsxs)("form",{onSubmit:S,className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-white/8",children:[l.image?(0,r.jsx)("img",{src:l.image,alt:l.name||"",className:"size-10 rounded-full ring-2 ring-primary/30"}):(0,r.jsx)("div",{className:"size-10 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold",children:l.name?.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-semibold text-sm",children:l.name}),(0,r.jsx)("p",{className:"text-slate-500 text-xs",children:l.email})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-slate-400 mb-2 block font-medium uppercase tracking-wide",children:"Your Rating *"}),(0,r.jsx)(Q,{rating:i,interactive:!0,size:28,onSelect:n})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-xs text-slate-400 mb-2 block font-medium uppercase tracking-wide",children:"Your Review *"}),(0,r.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),required:!0,rows:4,maxLength:500,placeholder:"Share your experience with this bat...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white placeholder-slate-600 focus:outline-none focus:border-primary/50 transition-colors resize-none"}),(0,r.jsxs)("span",{className:"text-xs text-slate-600 float-right mt-1",children:[o.length,"/500"]})]}),p&&(0,r.jsx)("p",{className:"text-red-400 text-sm",children:p}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"submit",disabled:m,className:"flex-1 py-3 bg-primary text-black font-bold text-sm rounded-xl hover:bg-amber-400 transition-colors disabled:opacity-60 flex items-center justify-center gap-2",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"material-symbols-outlined animate-spin !text-[18px]",children:"sync"}),"Submitting..."]}):"Submit Review"}),(0,r.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-3 bg-white/5 text-slate-400 rounded-xl hover:bg-white/10 transition-colors text-sm",children:"Cancel"})]})]})}),s.length>0?(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10",children:[(0,r.jsxs)("div",{className:"lg:w-52 shrink-0 flex flex-col gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-7xl font-black text-white leading-none",children:N.toFixed(1)}),(0,r.jsx)(Q,{rating:Math.round(N),size:20}),(0,r.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:[s.length," reviews"]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-2",children:k.map(({label:e,count:t})=>(0,r.jsx)(Z,{label:String(e),count:t,total:s.length},e))})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-4",children:[(0,r.jsx)("div",{ref:g,className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar",style:{scrollSnapType:"x mandatory",msOverflowStyle:"none",scrollbarWidth:"none"},onMouseEnter:()=>{w.current=!0},onMouseLeave:()=>{w.current=!1},children:s.map(e=>(0,r.jsx)("div",{style:{scrollSnapAlign:"start"},children:(0,r.jsx)(ee,{review:e})},e.id))}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-1.5",children:s.map((e,t)=>(0,r.jsx)("button",{onClick:()=>j(t),className:`rounded-full transition-all duration-300 ${t===y?"w-5 h-2 bg-primary":"w-2 h-2 bg-white/20 hover:bg-white/40"}`},t))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>j(y-1),className:"size-8 flex items-center justify-center rounded-full border border-white/10 hover:border-primary/40 hover:bg-primary/10 transition-colors text-slate-400 hover:text-primary",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"chevron_left"})}),(0,r.jsx)("button",{onClick:()=>j(y+1),className:"size-8 flex items-center justify-center rounded-full border border-white/10 hover:border-primary/40 hover:bg-primary/10 transition-colors text-slate-400 hover:text-primary",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"chevron_right"})})]})]})]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center border border-white/5 rounded-2xl bg-white/[0.02]",children:[(0,r.jsx)("span",{className:"text-7xl text-white/5 font-serif select-none mb-4",children:'"'}),(0,r.jsx)("p",{className:"text-white font-semibold text-lg mb-1",children:"No reviews yet"}),(0,r.jsx)("p",{className:"text-slate-500 text-sm",children:"Be the first to share your experience!"})]})]})}},75971:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(60687),a=s(43210),l=s(25801),i=s(37590);let n=e=>`â‚¹${e.toLocaleString("en-IN")}`,o=(e,t)=>Math.round((1-e/t)*100);function c({product:e}){let[t,s]=(0,a.useState)(1),c=(0,a.useMemo)(()=>e.variations?.length?e.variations.map(e=>{let t=e.name.split(" | ");return{...e,size:t[0]?.trim()||"",weight:t[1]?.trim()||"",extra:t[2]?.trim()||""}}):[],[e.variations]),d=(0,a.useMemo)(()=>Array.from(new Set(c.map(e=>e.size).filter(Boolean))),[c]),x=(0,a.useMemo)(()=>Array.from(new Set(c.map(e=>e.extra).filter(Boolean))),[c]),[m,h]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),g=(0,a.useMemo)(()=>0===c.length?[]:Array.from(new Set(c.filter(e=>(0===d.length||e.size===m)&&(0===x.length||!f||e.extra===f)).map(e=>e.weight).filter(Boolean))),[c,m,f,d,x]),y=(0,a.useMemo)(()=>0!==c.length&&p?Array.from(new Set(c.filter(e=>e.weight===p&&(0===x.length||!f||e.extra===f)).map(e=>e.size).filter(Boolean))):d,[c,p,f,d,x]),v=e=>{h(e);let t=Array.from(new Set(c.filter(t=>t.size===e&&(0===x.length||!f||t.extra===f)).map(e=>e.weight).filter(Boolean)));t.length>0&&!t.includes(p)&&u(t[0])},w=e=>{u(e);let t=Array.from(new Set(c.filter(t=>t.weight===e&&(0===x.length||!f||t.extra===f)).map(e=>e.size).filter(Boolean)));t.length>0&&!t.includes(m)&&h(t[0])},j=(0,l.x)(e=>e.addItem),N=(0,a.useMemo)(()=>0===c.length?null:c.find(e=>(0===d.length||e.size===m)&&(0===g.length||e.weight===p)&&(0===x.length||e.extra===f))??null,[c,m,p,f,d,g,x]),k=N?N.price:e.price,S=N?N.compareAtPrice??null:e.compareAtPrice??null,C=N?N.stock:e.stock,A=()=>{let s=N?`${e.id}-${N.id}`:e.id,a=[m,p,f].filter(Boolean).join(" | ");j({id:s,productId:e.id,name:e.name,price:k,quantity:t,imageUrl:e.imageUrl||"/placeholder.jpg",size:a||void 0}),i.oR.success((0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-white",children:"Added to Cart!"}),(0,r.jsxs)("span",{className:"text-sm text-slate-300",children:[e.name,a?` (${a})`:""]})]}),{style:{background:"#1a1a1a",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"},iconTheme:{primary:"#d4af37",secondary:"#1a1a1a"}})},_=e=>`px-4 py-3 text-sm transition-all bg-transparent ${e?"border-2 border-white text-white font-medium":"border border-white/20 text-slate-300 hover:border-white/50"}`;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-8",children:[(0,r.jsx)("span",{className:"text-4xl font-bold text-white",children:n(k)}),S&&S>k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-lg text-slate-400 line-through",children:n(S)}),(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 bg-red-500 text-white text-xs font-bold px-2.5 py-1 rounded-full shadow-sm",children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[14px]",children:"sell"}),"SAVE ",o(k,S),"%"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-8 mb-8",children:[d.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] text-slate-300 mb-4 font-medium",children:"Select Your Bat Size"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:d.filter(e=>y.includes(e)||!p).map(e=>(0,r.jsx)("button",{onClick:()=>v(e),className:_(m===e),children:e},e))})]}),g.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] text-slate-300 mb-4 font-medium",children:"Weight"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:g.map(e=>(0,r.jsx)("button",{onClick:()=>w(e),className:_(p===e),children:e},e))})]}),x.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xs uppercase tracking-[0.2em] text-slate-300 mb-4 font-medium",children:"Willow Type / Other"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.filter(e=>c.some(t=>(0===d.length||t.size===m)&&(0===g.length||t.weight===p)&&t.extra===e)).map(e=>(0,r.jsx)("button",{onClick:()=>b(e),className:`px-4 py-3 text-sm transition-all bg-transparent ${f===e?"border-2 border-primary text-primary font-medium":"border border-white/20 text-slate-300 hover:border-primary/50"}`,children:e},e))})]})]}),(0,r.jsxs)("div",{className:"pt-6 border-t border-white/5 flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-xs uppercase tracking-[0.2em] text-slate-400 font-semibold",children:"Quantity"}),(0,r.jsxs)("div",{className:"flex items-center bg-white/5 rounded-full border border-white/10 overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>s(e=>Math.max(1,e-1)),className:"w-11 h-11 flex items-center justify-center text-slate-300 hover:bg-white/10 hover:text-white active:scale-90 transition-all",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] font-bold",children:"remove"})}),(0,r.jsx)("span",{className:"w-12 text-center text-lg font-bold text-white select-none",children:t}),(0,r.jsx)("button",{onClick:()=>{t<C&&s(e=>e+1)},disabled:t>=C,className:"w-11 h-11 flex items-center justify-center text-slate-300 hover:bg-white/10 hover:text-white active:scale-90 transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:(0,r.jsx)("span",{className:"material-symbols-outlined !text-[20px] font-bold",children:"add"})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("button",{onClick:A,disabled:C<=0,className:`py-3.5 text-sm font-bold transition-all flex items-center justify-center gap-2 uppercase tracking-wide border ${C>0?"border-white text-white hover:bg-white hover:text-black":"border-white/10 text-slate-500 cursor-not-allowed"}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:C<=0?"block":"shopping_cart"}),C<=0?"Out of Stock":"Add to Cart"]}),(0,r.jsxs)("button",{onClick:()=>{A(),setTimeout(()=>{window.location.href="/cart"},300)},disabled:C<=0,className:`py-3.5 text-sm font-bold transition-all flex items-center justify-center gap-2 uppercase tracking-wide ${C>0?"bg-primary text-black hover:bg-amber-400":"bg-white/5 text-slate-500 cursor-not-allowed"}`,children:[(0,r.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"bolt"}),"Buy it Now"]})]})]})]})}},85906:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\shop\\\\[slug]\\\\ShareButtons.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\ShareButtons.tsx","default")},95891:(e,t,s)=>{"use strict";s.d(t,{Io:()=>c,Wr:()=>d,eR:()=>n,h6:()=>i,zu:()=>o});var r=s(67218);s(79130);var a=s(31183),l=s(62351);async function i(e){if(!e.authorName.trim()||!e.comment.trim()||e.rating<1||e.rating>5)return{success:!1,error:"Please fill in all fields with a valid rating."};try{return await a.z.review.create({data:{productId:e.productId,authorName:e.authorName.trim(),rating:e.rating,comment:e.comment.trim(),approved:!1}}),(0,l.revalidatePath)(`/shop/${e.productSlug}`),{success:!0}}catch(e){return console.error("Failed to submit review:",e),{success:!1,error:"Failed to submit review."}}}async function n(e){try{return await a.z.review.findMany({where:{productId:e,approved:!0},orderBy:{createdAt:"desc"}})}catch{return[]}}async function o(){try{return await a.z.review.findMany({orderBy:{createdAt:"desc"},include:{product:{select:{name:!0,slug:!0}}}})}catch{return[]}}async function c(e){try{return await a.z.review.update({where:{id:e},data:{approved:!0}}),(0,l.revalidatePath)("/admin/reviews"),{success:!0}}catch{return{success:!1}}}async function d(e){try{return await a.z.review.delete({where:{id:e}}),(0,l.revalidatePath)("/admin/reviews"),{success:!0}}catch{return{success:!1}}}(0,s(17478).D)([i,n,o,c,d]),(0,r.A)(i,"407e233d0ac7f47786c68b226cad313f0730972575",null),(0,r.A)(n,"40e9ccb5dbaeb3c402313b733a9ff700e3683f6fba",null),(0,r.A)(o,"00bc0f97afd3e2d2c7101acb2ba9566a55c94cbfbf",null),(0,r.A)(c,"409bea58edeab63b7651f78b41d043450c5ced6a63",null),(0,r.A)(d,"40d6f4173ab27a077080d48a73327997ca3018ce9b",null)},96330:e=>{"use strict";e.exports=require("@prisma/client")},97981:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Suhail - CGIT\\\\Desktop\\\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\\\src\\\\app\\\\shop\\\\[slug]\\\\ProductCartOptions.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Suhail - CGIT\\Desktop\\Playground_StagKashmir_VPS+Coolify+Anitigravity\\src\\app\\shop\\[slug]\\ProductCartOptions.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[80,479,43,186,341],()=>s(40454));module.exports=r})();