exports.id=391,exports.ids=[391],exports.modules={21941:(e,r,t)=>{"use strict";t.d(r,{M$:()=>n,Sz:()=>c,d$:()=>d,zh:()=>o});var s=t(91199);t(42087);var a=t(70664),l=t(7944),i=t(33331);let d=(0,l.unstable_cache)(async()=>{try{return await a.z.product.findMany({where:{isArchived:!1},orderBy:{createdAt:"desc"},include:{variations:!0}})}catch(e){return console.error("Failed to fetch products:",e),[]}},["website-products"],{revalidate:3600,tags:["products"]}),n=(0,l.unstable_cache)(async e=>{try{return await a.z.product.findFirst({where:{slug:e,isArchived:!1},include:{variations:!0}})}catch(r){return console.error(`Failed to fetch product ${e}:`,r),null}},["website-product-by-slug"],{revalidate:3600,tags:["products"]}),c=(0,l.unstable_cache)(async(e,r,t=4)=>{try{let s={id:{not:e},isArchived:!1};r&&(s.category=r);let l=await a.z.product.findMany({where:s,take:t,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});if(l.length<t){let r=await a.z.product.findMany({where:{isArchived:!1,id:{not:e},...l.length>0?{NOT:{id:{in:l.map(e=>e.id)}}}:{}},take:t-l.length,orderBy:{createdAt:"desc"},select:{id:!0,slug:!0,name:!0,price:!0,compareAtPrice:!0,imageUrl:!0,stock:!0,category:!0}});return[...l,...r]}return l}catch(e){return console.error("Failed to fetch related products:",e),[]}},["website-related-products"],{revalidate:3600,tags:["products"]}),o=async(e,r=5)=>{try{if(!e.trim())return[];return await a.z.product.findMany({where:{isArchived:!1,OR:[{name:{contains:e,mode:"insensitive"}},{category:{contains:e,mode:"insensitive"}}]},take:r,select:{id:!0,slug:!0,name:!0,price:!0,imageUrl:!0,category:!0}})}catch(e){return console.error("Failed to search products:",e),[]}};(0,i.D)([d,n,c,o]),(0,s.A)(d,"7f968c88eb464a3622087bfbc6c0b8b9a5109a8131",null),(0,s.A)(n,"7f3b2c42cab10e20cad01db774d9f831841c6fb349",null),(0,s.A)(c,"7f57427a84a646118002d5cd67de268ed9131f7a24",null),(0,s.A)(o,"7fe405c67d1c0db1ace49ea43db24c8d93b7d3f676",null)},26327:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,4536,23))},54351:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,85814,23))},70664:(e,r,t)=>{"use strict";t.d(r,{z:()=>a});var s=t(96330);let a=global.prisma||new s.PrismaClient({log:["query"]})},99111:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$RSC_SERVER_ACTION_0:()=>n,default:()=>c});var s=t(37413),a=t(67218);t(79130);var l=t(4536),i=t.n(l),d=t(59914);let n=async function(){await (0,d.CI)({redirectTo:"/login"})};async function c({children:e}){let r=await (0,d.j2)();return(0,s.jsxs)("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-950",children:[(0,s.jsxs)("aside",{className:"   hidden md:flex   w-64 shrink-0   flex-col   bg-white dark:bg-slate-900   border-r border-slate-200 dark:border-slate-800   sticky top-0 h-screen overflow-y-auto   ",children:[(0,s.jsx)("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:(0,s.jsxs)(i(),{href:"/admin",className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"size-8 text-primary",children:(0,s.jsx)("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z"})})}),(0,s.jsx)("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Admin Hub"})]})}),(0,s.jsxs)("nav",{className:"flex-1 p-4 flex flex-col gap-1",children:[(0,s.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3 mt-4",children:"Management"}),(0,s.jsx)(o,{href:"/admin/orders",icon:"shopping_bag",children:"Order Inquiries"}),(0,s.jsx)(o,{href:"/admin/inquiries",icon:"mark_email_unread",children:"Contact Messages"}),(0,s.jsx)(o,{href:"/admin/customers",icon:"group",children:"Customers"}),(0,s.jsx)("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-3 mt-6",children:"Inventory"}),(0,s.jsx)(o,{href:"/admin/products",icon:"inventory_2",children:"Products"}),(0,s.jsx)(o,{href:"/admin/reviews",icon:"rate_review",children:"Reviews"})]}),(0,s.jsxs)("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 flex flex-col gap-3",children:[r?.user&&(0,s.jsxs)("div",{className:"flex items-center gap-3 px-2 mb-2",children:[r.user.image?(0,s.jsx)("img",{src:r.user.image,alt:"Admin",className:"w-8 h-8 rounded-full border border-slate-200"}):(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-sm",children:r.user.name?.charAt(0)||"A"}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:r.user.name}),(0,s.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:r.user.email})]})]}),(0,s.jsxs)(i(),{href:"/",className:"flex items-center justify-center gap-2 w-full py-2.5 px-3 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 font-medium transition-colors text-sm",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"public"}),"View Live Site"]}),(0,s.jsx)("form",{action:(0,a.A)(n,"00baa4b735df1f70c1f3c6249c1ec986c75bc304df",null),children:(0,s.jsxs)("button",{type:"submit",className:"flex items-center justify-center gap-2 w-full py-2.5 px-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/40 font-medium transition-colors text-sm border border-red-100 dark:border-red-900/30",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[18px]",children:"logout"}),"Sign Out"]})})]})]}),(0,s.jsxs)("div",{className:"md:hidden fixed top-0 inset-x-0 z-50 flex items-center justify-between px-4 py-3 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[(0,s.jsxs)(i(),{href:"/admin",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"size-6 text-primary",children:(0,s.jsx)("svg",{fill:"currentColor",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z"})})}),(0,s.jsx)("span",{className:"font-bold text-slate-900 dark:text-white",children:"Admin Hub"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(i(),{href:"/admin/orders",className:"p-2 rounded-lg text-slate-500 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"shopping_bag"})}),(0,s.jsx)(i(),{href:"/admin/products",className:"p-2 rounded-lg text-slate-500 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"inventory_2"})}),(0,s.jsx)(i(),{href:"/admin/reviews",className:"p-2 rounded-lg text-slate-500 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"rate_review"})}),(0,s.jsx)(i(),{href:"/admin/inquiries",className:"p-2 rounded-lg text-slate-500 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"mark_email_unread"})}),(0,s.jsx)(i(),{href:"/",className:"p-2 rounded-lg text-slate-500 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:"public"})})]})]}),(0,s.jsx)("main",{className:"flex-1 min-w-0 p-4 md:p-8 lg:p-12 pt-20 md:pt-8",children:e})]})}function o({href:e,icon:r,children:t}){return(0,s.jsxs)(i(),{href:e,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary transition-all font-medium",children:[(0,s.jsx)("span",{className:"material-symbols-outlined !text-[20px]",children:r}),t]})}}};