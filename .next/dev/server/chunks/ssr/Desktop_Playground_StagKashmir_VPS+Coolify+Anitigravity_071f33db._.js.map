{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suhail%20-%20CGIT/Desktop/Playground_StagKashmir_VPS%2BCoolify%2BAnitigravity/src/actions/admin-product.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { PrismaClient } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nconst prisma = new PrismaClient();\r\n\r\nexport async function deleteProduct(productId: string) {\r\n    try {\r\n        // Note: In a real app we might prevent deletion if it's tied to an order, \r\n        // or use soft deletes. For this MVP, we allow raw deletion.\r\n        await prisma.product.delete({\r\n            where: { id: productId },\r\n        });\r\n\r\n        revalidatePath(\"/admin/products\");\r\n        revalidatePath(\"/shop\");\r\n        return { success: true };\r\n    } catch (error) {\r\n        console.error(\"Failed to delete product:\", error);\r\n        return { success: false, error: \"Failed to delete product.\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAOsB,wBAAA,WAAA,GAAA,IAAA,mTAAA,EAAA,8CAAA,wSAAA,EAAA,KAAA,GAAA,8SAAA,EAAA,iDAAA"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suhail%20-%20CGIT/Desktop/Playground_StagKashmir_VPS%2BCoolify%2BAnitigravity/src/app/admin/products/DeleteProductButton.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useTransition } from \"react\";\r\nimport { deleteProduct } from \"@/actions/admin-product\";\r\n\r\nexport default function DeleteProductButton({ productId, productName }: { productId: string, productName: string }) {\r\n    const [isPending, startTransition] = useTransition();\r\n\r\n    const handleDelete = () => {\r\n        if (confirm(`Are you sure you want to delete ${productName}? This cannot be undone.`)) {\r\n            startTransition(async () => {\r\n                const result = await deleteProduct(productId);\r\n                if (!result.success) {\r\n                    alert(result.error);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleDelete}\r\n            disabled={isPending}\r\n            className={`p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors hover:text-red-500 ${isPending ? 'opacity-50 cursor-not-allowed text-red-500' : ''}`}\r\n            title=\"Delete Product\"\r\n        >\r\n            <span className=\"material-symbols-outlined !text-[20px]\">\r\n                {isPending ? 'sync' : 'delete'}\r\n            </span>\r\n        </button>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,oBAAoB,EAAE,SAAS,EAAE,WAAW,EAA8C;IAC9G,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,0RAAa;IAElD,MAAM,eAAe;QACjB,IAAI,QAAQ,CAAC,gCAAgC,EAAE,YAAY,wBAAwB,CAAC,GAAG;YACnF,gBAAgB;gBACZ,MAAM,SAAS,MAAM,IAAA,2OAAa,EAAC;gBACnC,IAAI,CAAC,OAAO,OAAO,EAAE;oBACjB,MAAM,OAAO,KAAK;gBACtB;YACJ;QACJ;IACJ;IAEA,qBACI,kTAAC;QACG,SAAS;QACT,UAAU;QACV,WAAW,CAAC,6FAA6F,EAAE,YAAY,+CAA+C,IAAI;QAC1K,OAAM;kBAEN,cAAA,kTAAC;YAAK,WAAU;sBACX,YAAY,SAAS;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Suhail%20-%20CGIT/Desktop/Playground_StagKashmir_VPS%2BCoolify%2BAnitigravity/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0]}}]
}